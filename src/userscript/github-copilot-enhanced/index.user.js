// ==UserScript==
// @name         Github Copilot Enhanced
// @name:en      Github Copilot Enhanced
// @name:zh-CN   Github Copilot 增强
// @namespace    https://github.com/ZiuChen/userscript
// @version      1.0.0
// @description  Enhances the GitHub Copilot (Web) user experience by enabling long-term local chat history storage, real-time search with shortcuts and highlighting, automatic scheduled data synchronization, and seamless interception and merging of requests, providing more convenient, reliable, and secure Copilot chat management.
// @description:en Enhances the GitHub Copilot (Web) user experience by enabling long-term local chat history storage, real-time search with shortcuts and highlighting, automatic scheduled data synchronization, and seamless interception and merging of requests, providing more convenient, reliable, and secure Copilot chat management.
// @description:zh-CN 增强 GitHub Copilot (Web) 的使用体验，主要功能包括本地长期保存聊天记录、支持快捷键和高亮显示的实时搜索、自动定时同步数据、无缝拦截和合并请求，实现更加便捷、可靠和安全的 Copilot 聊天管理。
// @author       ZiuChen
// @match        https://github.com/copilot*
// @icon         data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik04LjY2MiAxNC40ODRhMS4wMDEgMS4wMDEgMCAxIDEgMi4wMDMgMHYxLjk5N2ExLjAwMSAxLjAwMSAwIDEgMS0yLjAwMyAwem02LjY3NSAwYTEuMDAxIDEuMDAxIDAgMSAwLTIuMDAzIDB2MS45OTdhMS4wMDEgMS4wMDEgMCAxIDAgMi4wMDMgMHpNMTEuOTk5IDQuMDI4Yy0uODQ1LTEuMjE5LTIuNTk4LTEuMzEtMy45NDUtMS4xODhjLTEuNTQzLjE1NC0yLjg0My42ODUtMy41NzQgMS40NjRjLTEuMjY4IDEuMzg2LTEuMzI2IDQuMjkxLS43MTUgNS44OWMtLjA2MS4yNzQtLjEyLjU1MS0uMTYyLjg0NWMtMS4xMy4yOTctMi4yODMgMS44OTgtMi4yODMgMy4wNDN2Mi4xNjJjMCAuNi4yOCAxLjE0OC43NzUgMS41MjJDNC45MTkgMTkuODY0IDguNDM5IDIxLjQ5IDEyIDIxLjQ5czcuMDgtMS42MjYgOS45MDQtMy43MjRhMS44OSAxLjg5IDAgMCAwIC43NzUtMS41MjF2LTIuMTYzYzAtMS4xNDUtMS4xNTMtMi43NDYtMi4yODMtMy4wNDNjLS4wNDItLjI5NC0uMS0uNTctLjE2Mi0uODQ0Yy42MTEtMS42LjU1Mi00LjUwNS0uNzE1LTUuODljLS43MzEtLjc4LTIuMDMtMS4zMS0zLjU3NC0xLjQ2NWMtMS4zNDctLjEyMS0zLjEtLjAzLTMuOTQ2IDEuMTg4bTYuNjc1IDEzLjQ2Yy0xLjUzNS44NTQtNC4wODUgMi02LjY3NCAycy01LjE0LTEuMTQ2LTYuNjc1LTJ2LTUuNzk5YzIuNDc3Ljk2IDUuMzI3LjQ2NSA2LjY3My0xLjc1OEgxMmMxLjM0NiAyLjIyMyA0LjE5NiAyLjcxNyA2LjY3MyAxLjc1OHptLTguMDEtMTAuNjZjMCAxLjU4Ni0uNDggMy4zMTItMi42NyAzLjMxMnMtMi42MDYtLjUyNC0yLjYwNi0xLjk5N2MwLTIuMzM2LjM1Ni0zLjMzNiAzLjMxNi0zLjMzNmMxLjcxIDAgMS45Ni41NSAxLjk2IDIuMDIybTIuNjcgMGMwLTEuNDcyLjI1LTIuMDIgMS45NjEtMi4wMmMyLjk2IDAgMy4zMTYgMSAzLjMxNiAzLjMzNWMwIDEuNDczLS40MTcgMS45OTctMi42MDcgMS45OTdzLTIuNjctMS43MjYtMi42Ny0zLjMxMSIvPjwvc3ZnPg==
// @grant        GM.xmlHttpRequest
// @grant        unsafeWindow
// @connect      api.individual.githubcopilot.com
// @run-at       document-start
// @updateURL    https://cdn.jsdelivr.net/gh/ZiuChen/userscript@main/src/userscript/github-copilot-enhanced/index.user.js
// @downloadURL  https://cdn.jsdelivr.net/gh/ZiuChen/userscript@main/src/userscript/github-copilot-enhanced/index.user.js
// ==/UserScript==

(function(){var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=unsafeWindow.fetch,f=[];unsafeWindow.fetch=async(e,t)=>{if(!f.length)return d(e,t);let n={request:new Request(e,t),fetch:d};for(let e of f)if(e?.onBeforeFetch){let t=await e.onBeforeFetch(n);t instanceof Request?n.request=t:t instanceof Response&&(n.response=t)}n.response||=await d(n.request);for(let e of f)if(e?.onAfterFetch){let t=await e.onAfterFetch(n);t instanceof Response&&(n.response=t)}return n.response};function p(e){f.push(e)}var m=(e,t)=>t.some(t=>e instanceof t),h,g;function _(){return h||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function v(){return g||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var y=new WeakMap,b=new WeakMap,x=new WeakMap;function S(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(ae(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return x.set(t,e),t}function ee(e){if(y.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});y.set(e,t)}var te={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return y.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ae(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function ne(e){te=e(te)}function re(e){return v().includes(e)?function(...t){return e.apply(oe(this),t),ae(this.request)}:function(...t){return ae(e.apply(oe(this),t))}}function ie(e){return typeof e==`function`?re(e):(e instanceof IDBTransaction&&ee(e),m(e,_())?new Proxy(e,te):e)}function ae(e){if(e instanceof IDBRequest)return S(e);if(b.has(e))return b.get(e);let t=ie(e);return t!==e&&(b.set(e,t),x.set(t,e)),t}var oe=e=>x.get(e);function se(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=ae(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(ae(o.result),e.oldVersion,e.newVersion,ae(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var ce=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],le=[`put`,`add`,`delete`,`clear`],ue=new Map;function de(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(ue.get(t))return ue.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=le.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ce.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return ue.set(t,a),a}ne(e=>({...e,get:(t,n,r)=>de(t,n)||e.get(t,n,r),has:(t,n)=>!!de(t,n)||e.has(t,n)}));var fe=[`continue`,`continuePrimaryKey`,`advance`],pe={},me=new WeakMap,he=new WeakMap,ge={get(e,t){if(!fe.includes(t))return e[t];let n=pe[t];return n||=pe[t]=function(...e){me.set(this,he.get(this)[t](...e))},n}};async function*_e(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;let n=new Proxy(t,ge);for(he.set(n,t),x.set(n,oe(t));t;)yield n,t=await(me.get(n)||t.continue()),me.delete(n)}function ve(e,t){return t===Symbol.asyncIterator&&m(e,[IDBIndex,IDBObjectStore,IDBCursor])||t===`iterate`&&m(e,[IDBIndex,IDBObjectStore])}ne(e=>({...e,get(t,n,r){return ve(t,n)?_e:e.get(t,n,r)},has(t,n){return ve(t,n)||e.has(t,n)}}));var ye=`copilot-chat-history`,be=1,xe=`threads`,Se=`messages`,Ce=null;function we(){return Ce||=se(ye,be,{upgrade(e){if(!e.objectStoreNames.contains(xe)){let t=e.createObjectStore(xe,{keyPath:`id`});t.createIndex(`updatedAt`,`updatedAt`),t.createIndex(`syncedAt`,`syncedAt`)}e.objectStoreNames.contains(Se)||e.createObjectStore(Se,{keyPath:`threadId`}).createIndex(`syncedAt`,`syncedAt`)}}),Ce}let Te={async saveThread(e){let t=await we(),n={id:e.id,name:e.name,createdAt:e.createdAt,updatedAt:e.updatedAt,syncedAt:new Date().toISOString(),data:e};await t.put(xe,n)},async saveThreads(e){let t=(await we()).transaction(xe,`readwrite`);await Promise.all(e.map(e=>{let n={id:e.id,name:e.name,createdAt:e.createdAt,updatedAt:e.updatedAt,syncedAt:new Date().toISOString(),data:e};return t.store.put(n)})),await t.done},async getAllThreads(){return(await we()).getAll(xe)},async saveMessages(e,t){let n=await we(),r={threadId:e,syncedAt:new Date().toISOString(),messages:t};await n.put(Se,r)},async getMessages(e){return(await we()).get(Se,e)},async getAllMessages(){return(await we()).getAll(Se)},async getThread(e){return(await we()).get(xe,e)},async deleteThread(e){let t=(await we()).transaction([xe,Se],`readwrite`);await Promise.all([t.objectStore(xe).delete(e),t.objectStore(Se).delete(e)]),await t.done},async clearAll(){let e=(await we()).transaction([xe,Se],`readwrite`);await Promise.all([e.objectStore(xe).clear(),e.objectStore(Se).clear()]),await e.done}};function Ee(e){let t=e.trim();if(!t)return new Headers;let n=t.split(`\r
`).map(e=>{let t=e.split(`:`);return[t[0].trim(),t[1].trim()]});return new Headers(n)}function De(e,t){let n=Ee(t.responseHeaders),r=typeof t.response==`string`?new Blob([t.response],{type:n.get(`Content-Type`)||`text/plain`}):t.response;return new Oe(r,{statusCode:t.status,statusText:t.statusText,headers:n,finalUrl:t.finalUrl,redirected:t.finalUrl===e.url})}var Oe=class e{constructor(e,t){this.rawBody=e,this.init=t,this.body=e.stream();let{headers:n,statusCode:r,statusText:i,finalUrl:a,redirected:o}=t;this.headers=n,this.status=r,this.statusText=i,this.url=a,this.type=`basic`,this.redirected=o,this._bodyUsed=!1}get bodyUsed(){return this._bodyUsed}get ok(){return this.status<300}arrayBuffer(){if(this.bodyUsed)throw TypeError(`Failed to execute 'arrayBuffer' on 'Response': body stream already read`);return this._bodyUsed=!0,this.rawBody.arrayBuffer()}blob(){if(this.bodyUsed)throw TypeError(`Failed to execute 'blob' on 'Response': body stream already read`);return this._bodyUsed=!0,Promise.resolve(this.rawBody.slice(0,this.rawBody.size,this.rawBody.type))}clone(){if(this.bodyUsed)throw TypeError(`Failed to execute 'clone' on 'Response': body stream already read`);return new e(this.rawBody,this.init)}formData(){if(this.bodyUsed)throw TypeError(`Failed to execute 'formData' on 'Response': body stream already read`);return this._bodyUsed=!0,this.rawBody.text().then(ke)}async json(){if(this.bodyUsed)throw TypeError(`Failed to execute 'json' on 'Response': body stream already read`);return this._bodyUsed=!0,JSON.parse(await this.rawBody.text())}text(){if(this.bodyUsed)throw TypeError(`Failed to execute 'text' on 'Response': body stream already read`);return this._bodyUsed=!0,this.rawBody.text()}async bytes(){if(this.bodyUsed)throw TypeError(`Failed to execute 'bytes' on 'Response': body stream already read`);return this._bodyUsed=!0,new Uint8Array(await this.rawBody.arrayBuffer())}};function ke(e){let t=new FormData;return e.trim().split(`&`).forEach(function(e){if(e){let n=e.split(`=`),r=n.shift()?.replace(/\+/g,` `),i=n.join(`=`).replace(/\+/g,` `);t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}async function Ae(e,t){let n=new Request(e,t),r;return t?.body&&(r=await n.text()),await je(n,t,r)}function je(e,t,n){return new Promise((r,i)=>{if(e.signal&&e.signal.aborted)return i(new DOMException(`Aborted`,`AbortError`));GM.xmlHttpRequest({url:e.url,method:Pe(e.method.toUpperCase()),headers:Object.fromEntries(new Headers(t?.headers).entries()),data:n,responseType:`blob`,onload(t){try{r(De(e,t))}catch(e){i(e)}},onabort(){i(new DOMException(`Aborted`,`AbortError`))},ontimeout(){i(TypeError(`Network request failed, timeout`))},onerror(e){i(TypeError(`Failed to fetch: `+e.finalUrl))}})})}var Me=[`GET`,`POST`,`PUT`,`DELETE`,`PATCH`,`HEAD`,`TRACE`,`OPTIONS`,`CONNECT`];function Ne(e,t){return e.includes(t)}function Pe(e){if(Ne(Me,e))return e;throw Error(`unsupported http method ${e}`)}var Fe=`https://api.individual.githubcopilot.com`;function Ie(){try{let e=localStorage.getItem(`COPILOT_AUTH_TOKEN`);if(e){let t=JSON.parse(e);if(t.value)return t.value}}catch(e){console.warn(`[Auth] Failed to get token from COPILOT_AUTH_TOKEN:`,e)}throw Error(`Failed to get GitHub Copilot auth token`)}var Le=null;let Re={async fetchAllThreads(){let e=Ie(),t=await Ae(`${Fe}/github/chat/threads`,{headers:{Accept:`application/json`,Authorization:`GitHub-Bearer ${e}`}});if(!t.ok)throw Error(`Failed to fetch threads: ${t.status}`);return t.json()},async fetchThreadMessages(e){let t=Ie(),n=await Ae(`${Fe}/github/chat/threads/${e}/messages`,{headers:{Accept:`application/json`,Authorization:`GitHub-Bearer ${t}`}});if(!n.ok)throw Error(`Failed to fetch messages for thread ${e}: ${n.status}`);return n.json()},async syncThread(e){try{console.debug(`[Sync] Syncing thread: ${e}`);let t=await this.fetchThreadMessages(e);await Te.saveThread(t.thread),await Te.saveMessages(e,t.messages),console.debug(`[Sync] Thread ${e} synced successfully`)}catch(t){throw console.error(`[Sync] Failed to sync thread ${e}:`,t),t}},async syncAllThreads(){try{console.info(`[Sync] Starting sync for all threads...`);let e=await this.fetchAllThreads();console.info(`[Sync] Found ${e.threads.length} threads`),await Te.saveThreads(e.threads);let t=e.threads.map(async e=>{let t=await Te.getThread(e.id);if(!(t&&new Date(t.updatedAt).getTime()>=new Date(e.updatedAt).getTime()))try{let t=await this.fetchThreadMessages(e.id);await Te.saveMessages(e.id,t.messages),console.debug(`[Sync] Thread ${e.id} synced`)}catch(t){console.error(`[Sync] Failed to sync thread ${e.id}, skipping...`,t)}});await Promise.all(t),console.info(`[Sync] All threads synced successfully`)}catch(e){throw console.error(`[Sync] Failed to sync all threads:`,e),e}},startAutoSync(e=30){this.syncAllThreads().catch(e=>{console.error(`[Sync] Initial sync failed:`,e)}),Le&&clearInterval(Le),Le=setInterval(()=>{this.syncAllThreads().catch(e=>{console.error(`[Sync] Auto sync failed:`,e)})},e*60*1e3),console.info(`[Sync] Auto sync started, interval: ${e} minutes`)}};async function ze(e){try{let t=await Te.getAllThreads(),n=new Set(e.threads.map(e=>e.id)),r=t.filter(e=>!n.has(e.id)).map(e=>e.data);return console.info(`[Merge] Server threads: ${e.threads.length}, Local additional threads: ${r.length}`),{threads:[...e.threads,...r]}}catch(t){return console.error(`[Merge] Failed to merge threads:`,t),e}}var Be=Array.isArray,Ve=Array.prototype.indexOf,He=Array.from;Object.keys;var Ue=Object.defineProperty,We=Object.getOwnPropertyDescriptor,Ge=Object.getOwnPropertyDescriptors,Ke=Object.prototype,qe=Array.prototype,Je=Object.getPrototypeOf,Ye=Object.isExtensible;function Xe(e){return typeof e==`function`}let C=()=>{};function Ze(e){for(var t=0;t<e.length;t++)e[t]()}function Qe(){var e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}let $e=1024,et=2048,tt=4096,nt=8192,rt=1<<19,it=1<<21,at=1<<23,ot=Symbol(`$state`),st=Symbol(``),ct=new class extends Error{name=`StaleReactionError`;message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function lt(e){throw Error(`https://svelte.dev/e/lifecycle_outside_component`)}function ut(){throw Error(`https://svelte.dev/e/async_derived_orphan`)}function dt(e){throw Error(`https://svelte.dev/e/effect_in_teardown`)}function ft(){throw Error(`https://svelte.dev/e/effect_in_unowned_derived`)}function pt(e){throw Error(`https://svelte.dev/e/effect_orphan`)}function mt(){throw Error(`https://svelte.dev/e/effect_update_depth_exceeded`)}function ht(){throw Error(`https://svelte.dev/e/state_descriptors_fixed`)}function gt(){throw Error(`https://svelte.dev/e/state_prototype_fixed`)}function _t(){throw Error(`https://svelte.dev/e/state_unsafe_mutation`)}function vt(){throw Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`)}let yt={},w=Symbol();function bt(e){console.warn(`https://svelte.dev/e/hydration_mismatch`)}function xt(){console.warn(`https://svelte.dev/e/select_multiple_invalid_value`)}function St(){console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`)}let T=!1;function Ct(e){T=e}let E;function D(e){if(e===null)throw bt(),yt;return E=e}function wt(){return D(In(E))}function O(e){if(T){if(In(E)!==null)throw bt(),yt;E=e}}function Tt(e=1){if(T){for(var t=e,n=E;t--;)n=In(n);E=n}}function Et(e=!0){for(var t=0,n=E;;){if(n.nodeType===8){var r=n.data;if(r===`]`){if(t===0)return n;--t}else (r===`[`||r===`[!`)&&(t+=1)}var i=In(n);e&&n.remove(),n=i}}function Dt(e){if(!e||e.nodeType!==8)throw bt(),yt;return e.data}function Ot(e){return e===this.v}function kt(e,t){return e==e?e!==t||typeof e==`object`&&!!e||typeof e==`function`:t==t}function At(e){return!kt(e,this.v)}let k=null;function jt(e){k=e}function Mt(e,t=!1,n){k={p:k,c:null,e:null,s:e,x:null,l:null}}function Nt(e){var t=k,n=t.e;if(n!==null){t.e=null;for(var r of n)Zn(r)}return e!==void 0&&(t.x=e),k=t.p,e??{}}function Pt(){return!0}var Ft=[];function It(){var e=Ft;Ft=[],Ze(e)}function Lt(e){if(Ft.length===0&&!Xt){var t=Ft;queueMicrotask(()=>{t===Ft&&It()})}Ft.push(e)}function Rt(){for(;Ft.length>0;)It()}var zt=new WeakMap;function Bt(e){var t=B;if(t===null)return R.f|=at,e;if(t.f&32768)Vt(e,t);else{if(!(t.f&128))throw!t.parent&&e instanceof Error&&Ht(e),e;t.b.error(e)}}function Vt(e,t){for(;t!==null;){if(t.f&128)try{t.b.error(e);return}catch(t){e=t}t=t.parent}throw e instanceof Error&&Ht(e),e}function Ht(e){let t=zt.get(e);t&&(Ue(e,`message`,{value:t.message}),Ue(e,`stack`,{value:t.stack}))}var Ut=new Set;let A=null,Wt=null,Gt=null,Kt=new Set;var qt=[],Jt=null,Yt=!1;let Xt=!1;var Zt=class e{committed=!1;current=new Map;#previous=new Map;#callbacks=new Set;#pending=0;#blocking_pending=0;#deferred=null;#dirty_effects=[];#maybe_dirty_effects=[];skipped_effects=new Set;process(e){qt=[],Wt=null,this.apply();var t={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(let n of e)this.#traverse_effect_tree(n,t);this.#resolve(),this.#blocking_pending>0?(this.#defer_effects(t.effects),this.#defer_effects(t.render_effects),this.#defer_effects(t.block_effects)):(Wt=this,A=null,nn(t.render_effects),nn(t.effects),Wt=null),Gt=null}#traverse_effect_tree(e,t){e.f^=$e;for(var n=e.first;n!==null;){var r=n.f,i=(r&96)!=0,a=i&&(r&1024)!=0||(r&8192)!=0||this.skipped_effects.has(n);if(n.f&128&&n.b?.is_pending()&&(t={parent:t,effect:n,effects:[],render_effects:[],block_effects:[]}),!a&&n.fn!==null){i?n.f^=$e:r&4?t.effects.push(n):Ar(n)&&(n.f&16&&t.block_effects.push(n),Fr(n));var o=n.first;if(o!==null){n=o;continue}}var s=n.parent;for(n=n.next;n===null&&s!==null;)s===t.effect&&(this.#defer_effects(t.effects),this.#defer_effects(t.render_effects),this.#defer_effects(t.block_effects),t=t.parent),n=s.next,s=s.parent}}#defer_effects(e){for(let t of e)(t.f&2048?this.#dirty_effects:this.#maybe_dirty_effects).push(t),G(t,$e)}capture(e,t){this.#previous.has(e)||this.#previous.set(e,t),this.current.set(e,e.v),Gt?.set(e,e.v)}activate(){A=this}deactivate(){A=null,Gt=null}flush(){if(qt.length>0){if(this.activate(),$t(),A!==null&&A!==this)return}else this.#resolve();this.deactivate();for(let e of Kt)if(Kt.delete(e),e(),A!==null)break}#resolve(){if(this.#blocking_pending===0){for(let e of this.#callbacks)e();this.#callbacks.clear()}this.#pending===0&&this.#commit()}#commit(){if(Ut.size>1){this.#previous.clear();var e=Gt,t=!0,n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(let e of Ut){if(e===this){t=!1;continue}let r=[];for(let[n,i]of this.current){if(e.current.has(n))if(t&&i!==e.current.get(n))e.current.set(n,i);else continue;r.push(n)}if(r.length===0)continue;let i=[...e.current.keys()].filter(e=>!this.current.has(e));if(i.length>0){for(let e of r)rn(e,i);if(qt.length>0){A=e,e.apply();for(let t of qt)e.#traverse_effect_tree(t,n);qt=[],e.deactivate()}}}A=null,Gt=e}this.committed=!0,Ut.delete(this),this.#deferred?.resolve()}increment(e){this.#pending+=1,e&&(this.#blocking_pending+=1)}decrement(e){--this.#pending,e&&--this.#blocking_pending;for(let e of this.#dirty_effects)G(e,et),on(e);for(let e of this.#maybe_dirty_effects)G(e,tt),on(e);this.#dirty_effects=[],this.#maybe_dirty_effects=[],this.flush()}add_callback(e){this.#callbacks.add(e)}settled(){return(this.#deferred??=Qe()).promise}static ensure(){if(A===null){let t=A=new e;Ut.add(A),Xt||e.enqueue(()=>{A===t&&t.flush()})}return A}static enqueue(e){Lt(e)}apply(){}};function Qt(e){var t=Xt;Xt=!0;try{var n;for(e&&(A!==null&&$t(),n=e());;){if(Rt(),qt.length===0&&(A?.flush(),qt.length===0))return Jt=null,n;$t()}}finally{Xt=t}}function $t(){var e=hr;Yt=!0;try{var t=0;for(gr(!0);qt.length>0;){var n=Zt.ensure();t++>1e3&&en(),n.process(qt),xn.clear()}}finally{Yt=!1,gr(e),Jt=null}}function en(){try{mt()}catch(e){Vt(e,Jt)}}let tn=null;function nn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&24576)&&Ar(r)&&(tn=new Set,Fr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?cr(r):r.fn=null),tn?.size>0)){xn.clear();for(let e of tn){if(e.f&24576)continue;let t=[e],n=e.parent;for(;n!==null;)tn.has(n)&&(tn.delete(n),t.push(n)),n=n.parent;for(let e=t.length-1;e>=0;e--){let n=t[e];n.f&24576||Fr(n)}}tn.clear()}}tn=null}}function rn(e,t){if(e.reactions!==null)for(let n of e.reactions){let e=n.f;e&2?rn(n,t):e&4194320&&an(n,t)&&(G(n,et),on(n))}}function an(e,t){if(e.deps!==null){for(let n of e.deps)if(t.includes(n)||n.f&2&&an(n,t))return!0}return!1}function on(e){for(var t=Jt=e;t.parent!==null;){t=t.parent;var n=t.f;if(Yt&&t===B&&n&16)return;if(n&96){if(!(n&1024))return;t.f^=$e}}qt.push(t)}function sn(e){let t=0,n=Sn(0),r;return()=>{Jn()&&(W(n),tr(()=>(t===0&&(r=Rr(()=>e(()=>Tn(n)))),t+=1,()=>{Lt(()=>{--t,t===0&&(r?.(),r=void 0,Tn(n))})})))}}var cn=rt|65664;function ln(e,t,n){new un(e,t,n)}var un=class{parent;#pending=!1;#anchor;#hydrate_open=T?E:null;#props;#children;#effect;#main_effect=null;#pending_effect=null;#failed_effect=null;#offscreen_fragment=null;#local_pending_count=0;#pending_count=0;#is_creating_fallback=!1;#effect_pending=null;#effect_pending_update=()=>{this.#effect_pending&&wn(this.#effect_pending,this.#local_pending_count)};#effect_pending_subscriber=sn(()=>(this.#effect_pending=Sn(this.#local_pending_count),()=>{this.#effect_pending=null}));constructor(e,t,n){this.#anchor=e,this.#props=t,this.#children=n,this.parent=B.b,this.#pending=!!this.#props.pending,this.#effect=rr(()=>{if(B.b=this,T){let e=this.#hydrate_open;wt(),e.nodeType===8&&e.data===`[!`?this.#hydrate_pending_content():this.#hydrate_resolved_content()}else{try{this.#main_effect=I(()=>n(this.#anchor))}catch(e){this.error(e)}this.#pending_count>0?this.#show_pending_snippet():this.#pending=!1}},cn),T&&(this.#anchor=E)}#hydrate_resolved_content(){try{this.#main_effect=I(()=>this.#children(this.#anchor))}catch(e){this.error(e)}this.#pending=!1}#hydrate_pending_content(){let e=this.#props.pending;e&&(this.#pending_effect=I(()=>e(this.#anchor)),Zt.enqueue(()=>{this.#main_effect=this.#run(()=>(Zt.ensure(),I(()=>this.#children(this.#anchor)))),this.#pending_count>0?this.#show_pending_snippet():(lr(this.#pending_effect,()=>{this.#pending_effect=null}),this.#pending=!1)}))}is_pending(){return this.#pending||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#props.pending}#run(e){var t=B,n=R,r=k;br(this.#effect),z(this.#effect),jt(this.#effect.ctx);try{return e()}catch(e){return Bt(e),null}finally{br(t),z(n),jt(r)}}#show_pending_snippet(){let e=this.#props.pending;this.#main_effect!==null&&(this.#offscreen_fragment=document.createDocumentFragment(),mr(this.#main_effect,this.#offscreen_fragment)),this.#pending_effect===null&&(this.#pending_effect=I(()=>e(this.#anchor)))}#update_pending_count(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#update_pending_count(e);return}this.#pending_count+=e,this.#pending_count===0&&(this.#pending=!1,this.#pending_effect&&lr(this.#pending_effect,()=>{this.#pending_effect=null}),this.#offscreen_fragment&&=(this.#anchor.before(this.#offscreen_fragment),null))}update_pending_count(e){this.#update_pending_count(e),this.#local_pending_count+=e,Kt.add(this.#effect_pending_update)}get_effect_pending(){return this.#effect_pending_subscriber(),W(this.#effect_pending)}error(e){var t=this.#props.onerror;let n=this.#props.failed;if(this.#is_creating_fallback||!t&&!n)throw e;this.#main_effect&&=(L(this.#main_effect),null),this.#pending_effect&&=(L(this.#pending_effect),null),this.#failed_effect&&=(L(this.#failed_effect),null),T&&(D(this.#hydrate_open),Tt(),D(Et()));var r=!1,i=!1;let a=()=>{if(r){St();return}r=!0,i&&vt(),Zt.ensure(),this.#local_pending_count=0,this.#failed_effect!==null&&lr(this.#failed_effect,()=>{this.#failed_effect=null}),this.#pending=this.has_pending_snippet(),this.#main_effect=this.#run(()=>(this.#is_creating_fallback=!1,I(()=>this.#children(this.#anchor)))),this.#pending_count>0?this.#show_pending_snippet():this.#pending=!1};var o=R;try{z(null),i=!0,t?.(e,a),i=!1}catch(e){Vt(e,this.#effect&&this.#effect.parent)}finally{z(o)}n&&Lt(()=>{this.#failed_effect=this.#run(()=>{this.#is_creating_fallback=!0;try{return I(()=>{n(this.#anchor,()=>e,()=>a)})}catch(e){return Vt(e,this.#effect.parent),null}finally{this.#is_creating_fallback=!1}})})}};function dn(e,t,n){let r=Pt()?mn:gn;if(t.length===0){n(e.map(r));return}var i=A,a=B,o=fn(),s=T;Promise.all(t.map(e=>hn(e))).then(t=>{o();try{n([...e.map(r),...t])}catch(e){a.f&16384||Vt(e,a)}s&&Ct(!1),i?.deactivate(),pn()}).catch(e=>{Vt(e,a)})}function fn(){var e=B,t=R,n=k,r=A,i=T;if(i)var a=E;return function(){br(e),z(t),jt(n),r?.activate(),i&&(Ct(!0),D(a))}}function pn(){br(null),z(null),jt(null)}function mn(e){var t=2|et,n=R!==null&&R.f&2?R:null;return B===null||n!==null&&n.f&256?t|=256:B.f|=rt,{ctx:k,deps:null,effects:null,equals:Ot,f:t,fn:e,reactions:null,rv:0,v:w,wv:0,parent:n??B,ac:null}}function hn(e,t){let n=B;n===null&&ut();var r=n.b,i=void 0,a=Sn(w),o=!R,s=new Map;return er(()=>{var t=Qe();i=t.promise;try{Promise.resolve(e()).then(t.resolve,t.reject).then(()=>{n===A&&n.committed&&n.deactivate(),pn()})}catch(e){t.reject(e),pn()}var n=A;if(o){var c=!r.is_pending();r.update_pending_count(1),n.increment(c),s.get(n)?.reject(ct),s.delete(n),s.set(n,t)}let l=(e,t=void 0)=>{if(n.activate(),t)t!==ct&&(a.f|=at,wn(a,t));else{a.f&8388608&&(a.f^=at),wn(a,e);for(let[e,t]of s){if(s.delete(e),e===n)break;t.reject(ct)}}o&&(r.update_pending_count(-1),n.decrement(c))};t.promise.then(l,e=>l(null,e||`unknown`))}),Yn(()=>{for(let e of s.values())e.reject(ct)}),new Promise(e=>{function t(n){function r(){n===i?e(a):t(i)}n.then(r,r)}t(i)})}function gn(e){let t=mn(e);return t.equals=At,t}function _n(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)L(t[n])}}function vn(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t;t=t.parent}return null}function yn(e){var t,n=B;br(vn(e));try{_n(e),t=Mr(e)}finally{br(n)}return t}function bn(e){var t=yn(e);if(e.equals(t)||(e.v=t,e.wv=kr()),!_r)if(Gt!==null)Gt.set(e,e.v);else{var n=(Or||e.f&256)&&e.deps!==null?tt:$e;G(e,n)}}let xn=new Map;function Sn(e,t){return{f:0,v:e,reactions:null,equals:Ot,rv:0,wv:0}}function j(e,t){let n=Sn(e,t);return Sr(n),n}function Cn(e,t=!1,n=!0){let r=Sn(e);return t||(r.equals=At),r}function M(e,t,n=!1){R!==null&&(!yr||R.f&131072)&&Pt()&&R.f&4325394&&!xr?.includes(e)&&_t();let r=n?Dn(t):t;return wn(e,r)}function wn(e,t){if(!e.equals(t)){var n=e.v;_r?xn.set(e,t):xn.set(e,n),e.v=t,Zt.ensure().capture(e,n),e.f&2&&(e.f&2048&&yn(e),G(e,e.f&256?tt:$e)),e.wv=kr(),En(e,et),Pt()&&B!==null&&B.f&1024&&!(B.f&96)&&(U===null?Cr([e]):U.push(e))}return t}function Tn(e){M(e,e.v+1)}function En(e,t){var n=e.reactions;if(n!==null)for(var r=Pt(),i=n.length,a=0;a<i;a++){var o=n[a],s=o.f;if(!(!r&&o===B)){var c=(s&et)===0;c&&G(o,t),s&2?En(o,tt):c&&(s&16&&tn!==null&&tn.add(o),on(o))}}}function Dn(e){if(typeof e!=`object`||!e||ot in e)return e;let t=Je(e);if(t!==Ke&&t!==qe)return e;var n=new Map,r=Be(e),i=j(0),a=null,o=Er,s=e=>{if(Er===o)return e();var t=R,n=Er;z(null),Dr(o);var r=e();return z(t),Dr(n),r};return r&&n.set(`length`,j(e.length,a)),new Proxy(e,{defineProperty(e,t,r){(!(`value`in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&ht();var i=n.get(t);return i===void 0?i=s(()=>{var e=j(r.value,a);return n.set(t,e),e}):M(i,r.value,!0),!0},deleteProperty(e,t){var r=n.get(t);if(r===void 0){if(t in e){let e=s(()=>j(w,a));n.set(t,e),Tn(i)}}else M(r,w),Tn(i);return!0},get(t,r,i){if(r===ot)return e;var o=n.get(r),c=r in t;if(o===void 0&&(!c||We(t,r)?.writable)&&(o=s(()=>{var e=Dn(c?t[r]:w);return j(e,a)}),n.set(r,o)),o!==void 0){var l=W(o);return l===w?void 0:l}return Reflect.get(t,r,i)},getOwnPropertyDescriptor(e,t){var r=Reflect.getOwnPropertyDescriptor(e,t);if(r&&`value`in r){var i=n.get(t);i&&(r.value=W(i))}else if(r===void 0){var a=n.get(t),o=a?.v;if(a!==void 0&&o!==w)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return r},has(e,t){if(t===ot)return!0;var r=n.get(t),i=r!==void 0&&r.v!==w||Reflect.has(e,t);return(r!==void 0||B!==null&&(!i||We(e,t)?.writable))&&(r===void 0&&(r=s(()=>{var n=i?Dn(e[t]):w;return j(n,a)}),n.set(t,r)),W(r)===w)?!1:i},set(e,t,o,c){var l=n.get(t),u=t in e;if(r&&t===`length`)for(var d=o;d<l.v;d+=1){var f=n.get(d+``);f===void 0?d in e&&(f=s(()=>j(w,a)),n.set(d+``,f)):M(f,w)}if(l===void 0)(!u||We(e,t)?.writable)&&(l=s(()=>j(void 0,a)),M(l,Dn(o)),n.set(t,l));else{u=l.v!==w;var p=s(()=>Dn(o));M(l,p)}var m=Reflect.getOwnPropertyDescriptor(e,t);if(m?.set&&m.set.call(c,o),!u){if(r&&typeof t==`string`){var h=n.get(`length`),g=Number(t);Number.isInteger(g)&&g>=h.v&&M(h,g+1)}Tn(i)}return!0},ownKeys(e){W(i);var t=Reflect.ownKeys(e).filter(e=>{var t=n.get(e);return t===void 0||t.v!==w});for(var[r,a]of n)a.v!==w&&!(r in e)&&t.push(r);return t},setPrototypeOf(){gt()}})}function On(e){try{if(typeof e==`object`&&e&&ot in e)return e[ot]}catch{}return e}function kn(e,t){return Object.is(On(e),On(t))}var An,jn,Mn,Nn;function Pn(){if(An===void 0){An=window,document,jn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Mn=We(t,`firstChild`).get,Nn=We(t,`nextSibling`).get,Ye(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ye(n)&&(n.__t=void 0)}}function Fn(e=``){return document.createTextNode(e)}function N(e){return Mn.call(e)}function In(e){return Nn.call(e)}function P(e,t){if(!T)return N(e);var n=N(E);if(n===null)n=E.appendChild(Fn());else if(t&&n.nodeType!==3){var r=Fn();return n?.before(r),D(r),r}return D(n),n}function Ln(e,t=!1){if(!T){var n=N(e);return n instanceof Comment&&n.data===``?In(n):n}if(t&&E?.nodeType!==3){var r=Fn();return E?.before(r),D(r),r}return E}function F(e,t=1,n=!1){let r=T?E:e;for(var i;t--;)i=r,r=In(r);if(!T)return r;if(n&&r?.nodeType!==3){var a=Fn();return r===null?i?.after(a):r.before(a),D(a),a}return D(r),r}function Rn(e){e.textContent=``}function zn(){return!1}function Bn(e,t){if(t){let t=document.body;e.autofocus=!0,Lt(()=>{document.activeElement===t&&e.focus()})}}var Vn=!1;function Hn(){Vn||(Vn=!0,document.addEventListener(`reset`,e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Un(e){var t=R,n=B;z(null),br(null);try{return e()}finally{z(t),br(n)}}function Wn(e,t,n,r=n){e.addEventListener(t,()=>Un(n));let i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Hn()}function Gn(e){B===null&&R===null&&pt(e),R!==null&&R.f&256&&B===null&&ft(),_r&&dt(e)}function Kn(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function qn(e,t,n,r=!0){var i=B;i!==null&&i.f&8192&&(e|=nt);var a={ctx:k,deps:null,nodes_start:null,nodes_end:null,f:e|et,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Fr(a),a.f|=32768}catch(e){throw L(a),e}else t!==null&&on(a);if(r){var o=a;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&524288)&&(o=o.first),o!==null&&(o.parent=i,i!==null&&Kn(o,i),R!==null&&R.f&2&&!(e&64))){var s=R;(s.effects??=[]).push(o)}}return a}function Jn(){return R!==null&&!yr}function Yn(e){let t=qn(8,null,!1);return G(t,$e),t.teardown=e,t}function Xn(e){Gn(`$effect`);var t=B.f;if(!R&&t&32&&!(t&32768)){var n=k;(n.e??=[]).push(e)}else return Zn(e)}function Zn(e){return qn(1048580,e,!1)}function Qn(e){Zt.ensure();let t=qn(64|rt,e,!0);return(e={})=>new Promise(n=>{e.outro?lr(t,()=>{L(t),n(void 0)}):(L(t),n(void 0))})}function $n(e){return qn(4,e,!1)}function er(e){return qn(4194304|rt,e,!0)}function tr(e,t=0){return qn(8|t,e,!0)}function nr(e,t=[],n=[]){dn(t,n,t=>{qn(8,()=>e(...t.map(W)),!0)})}function rr(e,t=0){return qn(16|t,e,!0)}function I(e,t=!0){return qn(32|rt,e,!0,t)}function ir(e){var t=e.teardown;if(t!==null){let e=_r,n=R;vr(!0),z(null);try{t.call(null)}finally{vr(e),z(n)}}}function ar(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let e=n.ac;e!==null&&Un(()=>{e.abort(ct)});var r=n.next;n.f&64?n.parent=null:L(n,t),n=r}}function or(e){for(var t=e.first;t!==null;){var n=t.next;t.f&32||L(t),t=n}}function L(e,t=!0){var n=!1;(t||e.f&262144)&&e.nodes_start!==null&&e.nodes_end!==null&&(sr(e.nodes_start,e.nodes_end),n=!0),ar(e,t&&!n),Pr(e,0),G(e,16384);var r=e.transitions;if(r!==null)for(let e of r)e.stop();ir(e);var i=e.parent;i!==null&&i.first!==null&&cr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function sr(e,t){for(;e!==null;){var n=e===t?null:In(e);e.remove(),e=n}}function cr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function lr(e,t,n=!0){var r=[];dr(e,r,!0),ur(r,()=>{n&&L(e),t&&t()})}function ur(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function dr(e,t,n){if(!(e.f&8192)){if(e.f^=nt,e.transitions!==null)for(let r of e.transitions)(r.is_global||n)&&t.push(r);for(var r=e.first;r!==null;){var i=r.next,a=(r.f&65536)!=0||(r.f&32)!=0;dr(r,t,a?n:!1),r=i}}}function fr(e){pr(e,!0)}function pr(e,t){if(e.f&8192){e.f^=nt,e.f&1024||(G(e,et),on(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&65536)!=0||(n.f&32)!=0;pr(n,i?t:!1),n=r}if(e.transitions!==null)for(let n of e.transitions)(n.is_global||t)&&n.in()}}function mr(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:In(n);t.append(n),n=i}}let hr=!1;function gr(e){hr=e}let _r=!1;function vr(e){_r=e}let R=null,yr=!1;function z(e){R=e}let B=null;function br(e){B=e}let xr=null;function Sr(e){R!==null&&(xr===null?xr=[e]:xr.push(e))}var V=null,H=0;let U=null;function Cr(e){U=e}let wr=1;var Tr=0;let Er=Tr;function Dr(e){Er=e}let Or=!1;function kr(){return++wr}function Ar(e){var t=e.f;if(t&2048)return!0;if(t&4096){var n=e.deps,r=(t&256)!=0;if(n!==null){var i,a,o=(t&512)!=0,s=r&&B!==null&&!Or,c=n.length;if((o||s)&&(B===null||!(B.f&16384))){var l=e,u=l.parent;for(i=0;i<c;i++)a=n[i],(o||!a?.reactions?.includes(l))&&(a.reactions??=[]).push(l);o&&(l.f^=512),s&&u!==null&&!(u.f&256)&&(l.f^=256)}for(i=0;i<c;i++)if(a=n[i],Ar(a)&&bn(a),a.wv>e.wv)return!0}(!r||B!==null&&!Or)&&G(e,$e)}return!1}function jr(e,t,n=!0){var r=e.reactions;if(r!==null&&!xr?.includes(e))for(var i=0;i<r.length;i++){var a=r[i];a.f&2?jr(a,t,!1):t===a&&(n?G(a,et):a.f&1024&&G(a,tt),on(a))}}function Mr(e){var t=V,n=H,r=U,i=R,a=Or,o=xr,s=k,c=yr,l=Er,u=e.f;V=null,H=0,U=null,Or=(u&256)!=0&&(yr||!hr||R===null),R=u&96?null:e,xr=null,jt(e.ctx),yr=!1,Er=++Tr,e.ac!==null&&(Un(()=>{e.ac.abort(ct)}),e.ac=null);try{e.f|=it;var d=e.fn,f=d(),p=e.deps;if(V!==null){var m;if(Pr(e,H),p!==null&&H>0)for(p.length=H+V.length,m=0;m<V.length;m++)p[H+m]=V[m];else e.deps=p=V;if(!Or||u&2&&e.reactions!==null)for(m=H;m<p.length;m++)(p[m].reactions??=[]).push(e)}else p!==null&&H<p.length&&(Pr(e,H),p.length=H);if(Pt()&&U!==null&&!yr&&p!==null&&!(e.f&6146))for(m=0;m<U.length;m++)jr(U[m],e);return i!==null&&i!==e&&(Tr++,U!==null&&(r===null?r=U:r.push(...U))),e.f&8388608&&(e.f^=at),f}catch(e){return Bt(e)}finally{e.f^=it,V=t,H=n,U=r,R=i,Or=a,xr=o,jt(s),yr=c,Er=l}}function Nr(e,t){let n=t.reactions;if(n!==null){var r=Ve.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&2&&(V===null||!V.includes(t))&&(G(t,tt),t.f&768||(t.f^=512),_n(t),Pr(t,0))}function Pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Nr(e,n[r])}function Fr(e){var t=e.f;if(!(t&16384)){G(e,$e);var n=B,r=hr;B=e,hr=!0;try{t&16?or(e):ar(e),ir(e);var i=Mr(e);e.teardown=typeof i==`function`?i:null,e.wv=wr}finally{hr=r,B=n}}}async function Ir(){await Promise.resolve(),Qt()}function W(e){var t=(e.f&2)!=0;if(null?.add(e),R!==null&&!yr){if(!(B!==null&&B.f&16384)&&!xr?.includes(e)){var n=R.deps;if(R.f&2097152)e.rv<Tr&&(e.rv=Tr,V===null&&n!==null&&n[H]===e?H++:V===null?V=[e]:(!Or||!V.includes(e))&&V.push(e));else{(R.deps??=[]).push(e);var r=e.reactions;r===null?e.reactions=[R]:r.includes(R)||r.push(R)}}}else if(t&&e.deps===null&&e.effects===null){var i=e,a=i.parent;a!==null&&!(a.f&256)&&(i.f^=256)}if(_r){if(xn.has(e))return xn.get(e);if(t){i=e;var o=i.v;return(!(i.f&1024)&&i.reactions!==null||Lr(i))&&(o=yn(i)),xn.set(i,o),o}}else if(t){if(i=e,Gt?.has(i))return Gt.get(i);Ar(i)&&bn(i)}if(Gt?.has(e))return Gt.get(e);if(e.f&8388608)throw e.v;return e.v}function Lr(e){if(e.v===w)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(xn.has(t)||t.f&2&&Lr(t))return!0;return!1}function Rr(e){var t=yr;try{return yr=!0,e()}finally{yr=t}}var zr=~(tt|3072);function G(e,t){e.f=e.f&zr|t}function Br(e){return e.endsWith(`capture`)&&e!==`gotpointercapture`&&e!==`lostpointercapture`}var Vr=[`beforeinput`,`click`,`change`,`dblclick`,`contextmenu`,`focusin`,`focusout`,`input`,`keydown`,`keyup`,`mousedown`,`mousemove`,`mouseout`,`mouseover`,`mouseup`,`pointerdown`,`pointermove`,`pointerout`,`pointerover`,`pointerup`,`touchend`,`touchmove`,`touchstart`];function Hr(e){return Vr.includes(e)}var Ur=`allowfullscreen.async.autofocus.autoplay.checked.controls.default.disabled.formnovalidate.indeterminate.inert.ismap.loop.multiple.muted.nomodule.novalidate.open.playsinline.readonly.required.reversed.seamless.selected.webkitdirectory.defer.disablepictureinpicture.disableremoteplayback`.split(`.`),Wr={formnovalidate:`formNoValidate`,ismap:`isMap`,nomodule:`noModule`,playsinline:`playsInline`,readonly:`readOnly`,defaultvalue:`defaultValue`,defaultchecked:`defaultChecked`,srcobject:`srcObject`,novalidate:`noValidate`,allowfullscreen:`allowFullscreen`,disablepictureinpicture:`disablePictureInPicture`,disableremoteplayback:`disableRemotePlayback`};function Gr(e){return e=e.toLowerCase(),Wr[e]??e}[...Ur];var Kr=[`touchstart`,`touchmove`];function qr(e){return Kr.includes(e)}let Jr=new Set,Yr=new Set;function Xr(e,t,n,r={}){function i(e){if(r.capture||$r.call(t,e),!e.cancelBubble)return Un(()=>n?.call(this,e))}return e.startsWith(`pointer`)||e.startsWith(`touch`)||e===`wheel`?Lt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Zr(e){for(var t=0;t<e.length;t++)Jr.add(e[t]);for(var n of Yr)n(e)}var Qr=null;function $r(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;Qr=e;var o=0,s=Qr===e&&e.__root;if(s){var c=i.indexOf(s);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var l=i.indexOf(t);if(l===-1)return;c<=l&&(o=c)}if(a=i[o]||e.target,a!==t){Ue(e,`currentTarget`,{configurable:!0,get(){return a||n}});var u=R,d=B;z(null),br(null);try{for(var f,p=[];a!==null;){var m=a.assignedSlot||a.parentNode||a.host||null;try{var h=a[`__`+r];if(h!=null&&(!a.disabled||e.target===a))if(Be(h)){var[g,..._]=h;g.apply(a,[e,..._])}else h.call(a,e)}catch(e){f?p.push(e):f=e}if(e.cancelBubble||m===t||m===null)break;a=m}if(f){for(let e of p)queueMicrotask(()=>{throw e});throw f}}finally{e.__root=t,delete e.currentTarget,z(u),br(d)}}}function ei(e){var t=document.createElement(`template`);return t.innerHTML=e.replaceAll(`<!>`,`<!---->`),t.content}function ti(e,t){var n=B;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ni(e,t){var n=(t&1)!=0,r=(t&2)!=0,i,a=!e.startsWith(`<!>`);return()=>{if(T)return ti(E,null),E;i===void 0&&(i=ei(a?e:`<!>`+e),n||(i=N(i)));var t=r||jn?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=N(t),s=t.lastChild;ti(o,s)}else ti(t,t);return t}}function ri(e,t,n=`svg`){var r=!e.startsWith(`<!>`),i=(t&1)!=0,a=`<${n}>${r?e:`<!>`+e}</${n}>`,o;return()=>{if(T)return ti(E,null),E;if(!o){var e=ei(a),t=N(e);if(i)for(o=document.createDocumentFragment();N(t);)o.appendChild(N(t));else o=N(t)}var n=o.cloneNode(!0);if(i){var r=N(n),s=n.lastChild;ti(r,s)}else ti(n,n);return n}}function ii(e,t){return ri(e,t,`svg`)}function ai(){if(T)return ti(E,null),E;var e=document.createDocumentFragment(),t=document.createComment(``),n=Fn();return e.append(t,n),ti(t,n),e}function oi(e,t){if(T){B.nodes_end=E,wt();return}e!==null&&e.before(t)}let si=!0;function ci(e,t){var n=t==null?``:typeof t==`object`?t+``:t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+``)}function li(e,t){return di(e,t)}var ui=new Map;function di(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:o=!0}){Pn();var s=new Set,c=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!s.has(r)){s.add(r);var i=qr(r);t.addEventListener(r,$r,{passive:i});var a=ui.get(r);a===void 0?(document.addEventListener(r,$r,{passive:i}),ui.set(r,1)):ui.set(r,a+1)}}};c(He(Jr)),Yr.add(c);var l=void 0,u=Qn(()=>{var u=n??t.appendChild(Fn());return ln(u,{pending:()=>{}},t=>{if(a){Mt({});var n=k;n.c=a}if(i&&(r.$$events=i),T&&ti(t,null),si=o,l=e(t,r)||{},si=!0,T&&(B.nodes_end=E,E===null||E.nodeType!==8||E.data!==`]`))throw bt(),yt;a&&Nt()}),()=>{for(var e of s){t.removeEventListener(e,$r);var r=ui.get(e);--r===0?(document.removeEventListener(e,$r),ui.delete(e)):ui.set(e,r)}Yr.delete(c),u!==n&&u.parentNode?.removeChild(u)}});return fi.set(l,u),l}var fi=new WeakMap,pi=class{anchor;#batches=new Map;#onscreen=new Map;#offscreen=new Map;#transition=!0;constructor(e,t=!0){this.anchor=e,this.#transition=t}#commit=()=>{var e=A;if(this.#batches.has(e)){var t=this.#batches.get(e),n=this.#onscreen.get(t);if(n)fr(n);else{var r=this.#offscreen.get(t);r&&(this.#onscreen.set(t,r.effect),this.#offscreen.delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),n=r.effect)}for(let[t,n]of this.#batches){if(this.#batches.delete(t),t===e)break;let r=this.#offscreen.get(n);r&&(L(r.effect),this.#offscreen.delete(n))}for(let[e,r]of this.#onscreen){if(e===t)continue;let i=()=>{if(Array.from(this.#batches.values()).includes(e)){var t=document.createDocumentFragment();mr(r,t),t.append(Fn()),this.#offscreen.set(e,{effect:r,fragment:t})}else L(r);this.#onscreen.delete(e)};this.#transition||!n?lr(r,i,!1):i()}}};ensure(e,t){var n=A,r=zn();if(t&&!this.#onscreen.has(e)&&!this.#offscreen.has(e))if(r){var i=document.createDocumentFragment(),a=Fn();i.append(a),this.#offscreen.set(e,{effect:I(()=>t(a)),fragment:i})}else this.#onscreen.set(e,I(()=>t(this.anchor)));if(this.#batches.set(n,e),r){for(let[t,r]of this.#onscreen)t===e?n.skipped_effects.delete(r):n.skipped_effects.add(r);for(let[t,r]of this.#offscreen)t===e?n.skipped_effects.delete(r.effect):n.skipped_effects.add(r.effect);n.add_callback(this.#commit)}else T&&(this.anchor=E),this.#commit()}};function mi(e,t,n=!1){T&&wt();var r=new pi(e),i=n?65536:0;function a(t,n){if(T){let a=Dt(e)===`[!`;if(t===a){var i=Et();D(i),r.anchor=i,Ct(!1),r.ensure(t,n),Ct(!0);return}}r.ensure(t,n)}rr(()=>{var e=!1;t((t,n=!0)=>{e=!0,a(n,t)}),e||a(!1,null)},i)}let hi=null;function gi(e,t){return t}function _i(e,t,n){for(var r=e.items,i=[],a=t.length,o=0;o<a;o++)dr(t[o].e,i,!0);var s=a>0&&i.length===0&&n!==null;if(s){var c=n.parentNode;Rn(c),c.append(n),r.clear(),Ci(e,t[0].prev,t[a-1].next)}ur(i,()=>{for(var n=0;n<a;n++){var i=t[n];s||(r.delete(i.k),Ci(e,i.prev,i.next)),L(i.e,!s)}})}function vi(e,t,n,r,i,a=null){var o=e,s={flags:t,items:new Map,first:null};if(t&4){var c=e;o=T?D(N(c)):c.appendChild(Fn())}T&&wt();var l=null,u=!1,d=new Map,f=gn(()=>{var e=n();return Be(e)?e:e==null?[]:He(e)}),p,m;function h(){yi(m,p,s,d,o,i,t,r,n),a!==null&&(p.length===0?l?fr(l):l=I(()=>a(o)):l!==null&&lr(l,()=>{l=null}))}rr(()=>{m??=B,p=W(f);var e=p.length;if(u&&e===0)return;u=e===0;let c=!1;if(T&&Dt(o)===`[!`!=(e===0)&&(o=Et(),D(o),Ct(!1),c=!0),T){for(var g=null,_,v=0;v<e;v++){if(E.nodeType===8&&E.data===`]`){o=E,c=!0,Ct(!1);break}var y=p[v],b=r(y,v);_=xi(E,s,g,null,y,b,v,i,t,n),s.items.set(b,_),g=_}e>0&&D(Et())}if(T)e===0&&a&&(l=I(()=>a(o)));else if(zn()){var x=new Set,S=A;for(v=0;v<e;v+=1){y=p[v],b=r(y,v);var ee=s.items.get(b)??d.get(b);ee?t&3&&bi(ee,y,v,t):(_=xi(null,s,null,null,y,b,v,i,t,n,!0),d.set(b,_)),x.add(b)}for(let[e,t]of s.items)x.has(e)||S.skipped_effects.add(t.e);S.add_callback(h)}else h();c&&Ct(!0),W(f)}),T&&(o=E)}function yi(e,t,n,r,i,a,o,s,c){var l=(o&8)!=0,u=(o&3)!=0,d=t.length,f=n.items,p=n.first,m,h=null,g,_=[],v=[],y,b,x,S;if(l)for(S=0;S<d;S+=1)y=t[S],b=s(y,S),x=f.get(b),x!==void 0&&(x.a?.measure(),(g??=new Set).add(x));for(S=0;S<d;S+=1){if(y=t[S],b=s(y,S),x=f.get(b),x===void 0){var ee=r.get(b);if(ee!==void 0){r.delete(b),f.set(b,ee);var te=h?h.next:p;Ci(n,h,ee),Ci(n,ee,te),Si(ee,te,i),h=ee}else{var ne=p?p.e.nodes_start:i;h=xi(ne,n,h,h===null?n.first:h.next,y,b,S,a,o,c)}f.set(b,h),_=[],v=[],p=h.next;continue}if(u&&bi(x,y,S,o),x.e.f&8192&&(fr(x.e),l&&(x.a?.unfix(),(g??=new Set).delete(x))),x!==p){if(m!==void 0&&m.has(x)){if(_.length<v.length){var re=v[0],ie;h=re.prev;var ae=_[0],oe=_[_.length-1];for(ie=0;ie<_.length;ie+=1)Si(_[ie],re,i);for(ie=0;ie<v.length;ie+=1)m.delete(v[ie]);Ci(n,ae.prev,oe.next),Ci(n,h,ae),Ci(n,oe,re),p=re,h=oe,--S,_=[],v=[]}else m.delete(x),Si(x,p,i),Ci(n,x.prev,x.next),Ci(n,x,h===null?n.first:h.next),Ci(n,h,x),h=x;continue}for(_=[],v=[];p!==null&&p.k!==b;)p.e.f&8192||(m??=new Set).add(p),v.push(p),p=p.next;if(p===null)continue;x=p}_.push(x),h=x,p=x.next}if(p!==null||m!==void 0){for(var se=m===void 0?[]:He(m);p!==null;)p.e.f&8192||se.push(p),p=p.next;var ce=se.length;if(ce>0){var le=o&4&&d===0?i:null;if(l){for(S=0;S<ce;S+=1)se[S].a?.measure();for(S=0;S<ce;S+=1)se[S].a?.fix()}_i(n,se,le)}}l&&Lt(()=>{if(g!==void 0)for(x of g)x.a?.apply()}),e.first=n.first&&n.first.e,e.last=h&&h.e;for(var ue of r.values())L(ue.e);r.clear()}function bi(e,t,n,r){r&1&&wn(e.v,t),r&2?wn(e.i,n):e.i=n}function xi(e,t,n,r,i,a,o,s,c,l,u){var d=hi,f=(c&1)!=0,p=(c&16)==0,m=f?p?Cn(i,!1,!1):Sn(i):i,h=c&2?Sn(o):o,g={i:h,v:m,k:a,a:null,e:null,prev:n,next:r};hi=g;try{return e===null&&document.createDocumentFragment().append(e=Fn()),g.e=I(()=>s(e,m,h,l),T),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?u||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{hi=d}}function Si(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var o=In(a);i.before(a),a=o}}function Ci(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function wi(e,t,n=!1,r=!1,i=!1){var a=e,o=``;nr(()=>{var e=B;if(o===(o=t()??``)){T&&wt();return}if(e.nodes_start!==null&&(sr(e.nodes_start,e.nodes_end),e.nodes_start=e.nodes_end=null),o!==``){if(T){for(var i=E.data,s=wt(),c=s;s!==null&&(s.nodeType!==8||s.data!==``);)c=s,s=In(s);if(s===null)throw bt(),yt;ti(E,c),a=D(s);return}var l=o+``;n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var u=ei(l);if((n||r)&&(u=N(u)),ti(N(u),u.lastChild),n||r)for(;N(u);)a.before(N(u));else a.before(u)}})}function Ti(e,t){$n(()=>{var n=e.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector(`#`+t.hash)){let e=document.createElement(`style`);e.id=t.hash,e.textContent=t.code,r.appendChild(e)}})}function Ei(e,t){var n=void 0,r;rr(()=>{n!==(n=t())&&(r&&=(L(r),null),n&&(r=I(()=>{$n(()=>n(e))})))})}function Di(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Di(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Oi(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Di(e))&&(r&&(r+=` `),r+=t);return r}function ki(e){return typeof e==`object`?Oi(e):e??``}var Ai=[...` 	
\r\f\xA0\v﻿`];function ji(e,t,n){var r=e==null?``:``+e;if(t&&(r=r?r+` `+t:t),n){for(var i in n)if(n[i])r=r?r+` `+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var s=o+a;(o===0||Ai.includes(r[o-1]))&&(s===r.length||Ai.includes(r[s]))?r=(o===0?``:r.substring(0,o))+r.substring(s+1):o=s}}return r===``?null:r}function Mi(e,t=!1){var n=t?` !important;`:`;`,r=``;for(var i in e){var a=e[i];a!=null&&a!==``&&(r+=` `+i+`: `+a+n)}return r}function Ni(e){return e[0]!==`-`||e[1]!==`-`?e.toLowerCase():e}function Pi(e,t){if(t){var n=``,r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,``).trim();var a=!1,o=0,s=!1,c=[];r&&c.push(...Object.keys(r).map(Ni)),i&&c.push(...Object.keys(i).map(Ni));var l=0,u=-1;let t=e.length;for(var d=0;d<t;d++){var f=e[d];if(s?f===`/`&&e[d-1]===`*`&&(s=!1):a?a===f&&(a=!1):f===`/`&&e[d+1]===`*`?s=!0:f===`"`||f===`'`?a=f:f===`(`?o++:f===`)`&&o--,!s&&a===!1&&o===0){if(f===`:`&&u===-1)u=d;else if(f===`;`||d===t-1){if(u!==-1){var p=Ni(e.substring(l,u).trim());if(!c.includes(p)){f!==`;`&&d++;var m=e.substring(l,d).trim();n+=` `+m+`;`}}l=d+1,u=-1}}}}return r&&(n+=Mi(r)),i&&(n+=Mi(i,!0)),n=n.trim(),n===``?null:n}return e==null?null:String(e)}function Fi(e,t,n,r,i,a){var o=e.__className;if(T||o!==n||o===void 0){var s=ji(n,r,a);(!T||s!==e.getAttribute(`class`))&&(s==null?e.removeAttribute(`class`):t?e.className=s:e.setAttribute(`class`,s)),e.__className=n}else if(a&&i!==a)for(var c in a){var l=!!a[c];(i==null||l!==!!i[c])&&e.classList.toggle(c,l)}return a}function Ii(e,t={},n,r){for(var i in n){var a=n[i];t[i]!==a&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,r))}}function Li(e,t,n,r){var i=e.__style;if(T||i!==t){var a=Pi(t,r);(!T||a!==e.getAttribute(`style`))&&(a==null?e.removeAttribute(`style`):e.style.cssText=a),e.__style=t}else r&&(Array.isArray(r)?(Ii(e,n?.[0],r[0]),Ii(e,n?.[1],r[1],`important`)):Ii(e,n,r));return r}function Ri(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Be(t))return xt();for(var r of e.options)r.selected=t.includes(Bi(r));return}for(r of e.options){var i=Bi(r);if(kn(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function zi(e){var t=new MutationObserver(()=>{Ri(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[`value`]}),Yn(()=>{t.disconnect()})}function Bi(e){return`__value`in e?e.__value:e.value}let Vi=Symbol(`class`),Hi=Symbol(`style`);var Ui=Symbol(`is custom element`),Wi=Symbol(`is html`);function Gi(e){if(T){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute(`value`)){var n=e.value;K(e,`value`,null),e.value=n}if(e.hasAttribute(`checked`)){var r=e.checked;K(e,`checked`,null),e.checked=r}}};e.__on_r=n,Lt(n),Hn()}}function Ki(e,t){t?e.hasAttribute(`selected`)||e.setAttribute(`selected`,``):e.removeAttribute(`selected`)}function K(e,t,n,r){var i=Yi(e);T&&(i[t]=e.getAttribute(t),t===`src`||t===`srcset`||t===`href`&&e.nodeName===`LINK`)||i[t]!==(i[t]=n)&&(t===`loading`&&(e[st]=n),n==null?e.removeAttribute(t):typeof n!=`string`&&Zi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function qi(e,t,n,r,i=!1,a=!1){if(T&&i&&e.tagName===`INPUT`){var o=e;(o.type===`checkbox`?`defaultChecked`:`defaultValue`)in n||Gi(o)}var s=Yi(e),c=s[Ui],l=!s[Wi];let u=T&&c;u&&Ct(!1);var d=t||{},f=e.tagName===`OPTION`;for(var p in t)p in n||(n[p]=null);n.class?n.class=ki(n.class):(r||n[Vi])&&(n.class=null),n[Hi]&&(n.style??=null);var m=Zi(e);for(let i in n){let o=n[i];if(f&&i===`value`&&o==null){e.value=e.__value=``,d[i]=o;continue}if(i===`class`){var h=e.namespaceURI===`http://www.w3.org/1999/xhtml`;Fi(e,h,o,r,t?.[Vi],n[Vi]),d[i]=o,d[Vi]=n[Vi];continue}if(i===`style`){Li(e,o,t?.[Hi],n[Hi]),d[i]=o,d[Hi]=n[Hi];continue}var g=d[i];if(!(o===g&&!(o===void 0&&e.hasAttribute(i)))){d[i]=o;var _=i[0]+i[1];if(_!==`$$`)if(_===`on`){let t={},n=`$$`+i,r=i.slice(2);var v=Hr(r);if(Br(r)&&(r=r.slice(0,-7),t.capture=!0),!v&&g){if(o!=null)continue;e.removeEventListener(r,d[n],t),d[n]=null}if(o!=null)if(v)e[`__${r}`]=o,Zr([r]);else{function a(e){d[i].call(this,e)}d[n]=Xr(r,e,a,t)}else v&&(e[`__${r}`]=void 0)}else if(i===`style`)K(e,i,o);else if(i===`autofocus`)Bn(e,!!o);else if(!c&&(i===`__value`||i===`value`&&o!=null))e.value=e.__value=o;else if(i===`selected`&&f)Ki(e,o);else{var y=i;l||(y=Gr(y));var b=y===`defaultValue`||y===`defaultChecked`;if(o==null&&!c&&!b)if(s[i]=null,y===`value`||y===`checked`){let n=e,r=t===void 0;if(y===`value`){let e=n.defaultValue;n.removeAttribute(y),n.defaultValue=e,n.value=n.__value=r?e:null}else{let e=n.defaultChecked;n.removeAttribute(y),n.defaultChecked=e,n.checked=r?e:!1}}else e.removeAttribute(i);else b||m.includes(y)&&(c||typeof o!=`string`)?(e[y]=o,y in s&&(s[y]=w)):typeof o!=`function`&&K(e,y,o,a)}}}return u&&Ct(!0),d}function Ji(e,t,n=[],r=[],i,a=!1,o=!1){dn(n,r,n=>{var r=void 0,s={},c=e.nodeName===`SELECT`,l=!1;if(rr(()=>{var u=t(...n.map(W)),d=qi(e,r,u,i,a,o);l&&c&&`value`in u&&Ri(e,u.value);for(let e of Object.getOwnPropertySymbols(s))u[e]||L(s[e]);for(let t of Object.getOwnPropertySymbols(u)){var f=u[t];t.description===`@attach`&&(!r||f!==r[t])&&(s[t]&&L(s[t]),s[t]=I(()=>Ei(e,()=>f))),d[t]=f}r=d}),c){var u=e;$n(()=>{Ri(u,r.value,!0),zi(u)})}l=!0})}function Yi(e){return e.__attributes??={[Ui]:e.nodeName.includes(`-`),[Wi]:e.namespaceURI===`http://www.w3.org/1999/xhtml`}}var Xi=new Map;function Zi(e){var t=e.getAttribute(`is`)||e.nodeName,n=Xi.get(t);if(n)return n;Xi.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){for(var o in r=Ge(i),r)r[o].set&&n.push(o);i=Je(i)}return n}var Qi=()=>performance.now();let $i={tick:e=>requestAnimationFrame(e),now:()=>Qi(),tasks:new Set};function ea(){let e=$i.now();$i.tasks.forEach(t=>{t.c(e)||($i.tasks.delete(t),t.f())}),$i.tasks.size!==0&&$i.tick(ea)}function ta(e){let t;return $i.tasks.size===0&&$i.tick(ea),{promise:new Promise(n=>{$i.tasks.add(t={c:e,f:n})}),abort(){$i.tasks.delete(t)}}}function na(e,t){Un(()=>{e.dispatchEvent(new CustomEvent(t))})}function ra(e){if(e===`float`)return`cssFloat`;if(e===`offset`)return`cssOffset`;if(e.startsWith(`--`))return e;let t=e.split(`-`);return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join(``)}function ia(e){let t={},n=e.split(`;`);for(let e of n){let[n,r]=e.split(`:`);if(!n||r===void 0)break;let i=ra(n.trim());t[i]=r.trim()}return t}var aa=e=>e;function oa(e,t,n,r){var i=(e&1)!=0,a=(e&2)!=0,o=i&&a,s=(e&4)!=0,c=o?`both`:i?`in`:`out`,l,u=t.inert,d=t.style.overflow,f,p;function m(){return Un(()=>l??=n()(t,r?.()??{},{direction:c}))}var h={is_global:s,in(){if(t.inert=u,!i){p?.abort(),p?.reset?.();return}a||f?.abort(),na(t,`introstart`),f=sa(t,m(),p,1,()=>{na(t,`introend`),f?.abort(),f=l=void 0,t.style.overflow=d})},out(e){if(!a){e?.(),l=void 0;return}t.inert=!0,na(t,`outrostart`),p=sa(t,m(),f,0,()=>{na(t,`outroend`),e?.()})},stop:()=>{f?.abort(),p?.abort()}},g=B;if((g.transitions??=[]).push(h),i&&si){var _=s;if(!_){for(var v=g.parent;v&&v.f&65536;)for(;(v=v.parent)&&!(v.f&16););_=!v||(v.f&32768)!=0}_&&$n(()=>{Rr(()=>h.in())})}}function sa(e,t,n,r,i){var a=r===1;if(Xe(t)){var o,s=!1;return Lt(()=>{if(!s){var c=t({direction:a?`in`:`out`});o=sa(e,c,n,r,i)}}),{abort:()=>{s=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return i(),{abort:C,deactivate:C,reset:C,t:()=>r};let{delay:c=0,css:l,tick:u,easing:d=aa}=t;var f=[];if(a&&n===void 0&&(u&&u(0,1),l)){var p=ia(l(0,1));f.push(p,p)}var m=()=>1-r,h=e.animate(f,{duration:c,fill:`forwards`});return h.onfinish=()=>{h.cancel();var a=n?.t()??1-r;n?.abort();var o=r-a,s=t.duration*Math.abs(o),c=[];if(s>0){var f=!1;if(l)for(var p=Math.ceil(s/(1e3/60)),g=0;g<=p;g+=1){var _=a+o*d(g/p),v=ia(l(_,1-_));c.push(v),f||=v.overflow===`hidden`}f&&(e.style.overflow=`hidden`),m=()=>{var e=h.currentTime;return a+o*d(e/s)},u&&ta(()=>{if(h.playState!==`running`)return!1;var e=m();return u(e,1-e),!0})}h=e.animate(c,{duration:s,fill:`forwards`}),h.onfinish=()=>{m=()=>r,u?.(r,1-r),i()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=C)},deactivate:()=>{i=C},reset:()=>{r===0&&u?.(1,0)},t:()=>m()}}function ca(e,t,n=t){var r=new WeakSet;Wn(e,`input`,async i=>{var a=i?e.defaultValue:e.value;if(a=la(e)?ua(a):a,n(a),A!==null&&r.add(A),await Ir(),a!==(a=t())){var o=e.selectionStart,s=e.selectionEnd,c=e.value.length;if(e.value=a??``,s!==null){var l=e.value.length;o===s&&s===c&&l>c?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=o,e.selectionEnd=Math.min(s,l))}}}),(T&&e.defaultValue!==e.value||Rr(t)==null&&e.value)&&(n(la(e)?ua(e.value):e.value),A!==null&&r.add(A)),tr(()=>{var n=t();if(e===document.activeElement){var i=Wt??A;if(r.has(i))return}la(e)&&n===ua(e.value)||e.type===`date`&&!n&&!e.value||n!==e.value&&(e.value=n??``)})}function la(e){var t=e.type;return t===`number`||t===`range`}function ua(e){return e===``?null:+e}function da(e,t){return e===t||e?.[ot]===t}function fa(e={},t,n,r){return $n(()=>{var i,a;return tr(()=>{i=a,a=r?.()||[],Rr(()=>{e!==n(...a)&&(t(e,...a),i&&da(n(...i),e)&&t(null,...i))})}),()=>{Lt(()=>{a&&da(n(...a),e)&&t(null,...a)})}}),e}function pa(e,t,n){if(e==null)return t(void 0),n&&n(void 0),C;let r=Rr(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}var ma=[];function ha(e,t){return{subscribe:ga(e,t).subscribe}}function ga(e,t=C){let n=null,r=new Set;function i(t){if(kt(e,t)&&(e=t,n)){let t=!ma.length;for(let t of r)t[1](),ma.push(t,e);if(t){for(let e=0;e<ma.length;e+=2)ma[e][0](ma[e+1]);ma.length=0}}}function a(t){i(t(e))}function o(o,s=C){let c=[o,s];return r.add(c),r.size===1&&(n=t(i,a)||C),o(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:o}}function _a(e,t,n){let r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw Error(`derived() expects stores as input, got a falsy value`);let a=t.length<2;return ha(n,(e,n)=>{let o=!1,s=[],c=0,l=C,u=()=>{if(c)return;l();let i=t(r?s[0]:s,e,n);a?e(i):l=typeof i==`function`?i:C},d=i.map((e,t)=>pa(e,e=>{s[t]=e,c&=~(1<<t),o&&u()},()=>{c|=1<<t}));return o=!0,u(),function(){Ze(d),l(),o=!1}})}function va(e){let t;return pa(e,e=>t=e)(),t}var ya=Symbol();function ba(e,t,n){let r=n[t]??={store:null,source:Cn(void 0),unsubscribe:C};if(r.store!==e&&!(ya in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=C;else{var i=!0;r.unsubscribe=pa(e,e=>{i?r.source.v=e:M(r.source,e)}),i=!1}return e&&ya in n?va(e):W(r.source)}function xa(){let e={};function t(){Yn(()=>{for(var t in e)e[t].unsubscribe();Ue(e,ya,{enumerable:!1,value:!0})})}return[e,t]}var Sa={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Ca(e,t,n){return new Proxy({props:e,exclude:t},Sa)}function wa(e){k===null&&lt(`onMount`),Xn(()=>{let t=Rr(e);if(typeof t==`function`)return t})}function Ta(e){k===null&&lt(`onDestroy`),wa(()=>()=>Rr(e))}typeof window<`u`&&((window.__svelte??={}).v??=new Set).add(`5`);var Ea=e=>e;function Da(e){let t=e-1;return t*t*t+1}function Oa(e){let t=typeof e==`string`&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||`px`]:[e,`px`]}function ka(e,{delay:t=0,duration:n=400,easing:r=Ea}={}){let i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:e=>`opacity: ${e*i}`}}function Aa(e,{delay:t=0,duration:n=400,easing:r=Da,x:i=0,y:a=0,opacity:o=0}={}){let s=getComputedStyle(e),c=+s.opacity,l=s.transform===`none`?``:s.transform,u=c*(1-o),[d,f]=Oa(i),[p,m]=Oa(a);return{delay:t,duration:n,easing:r,css:(e,t)=>`
			transform: ${l} translate(${(1-e)*d}${f}, ${(1-e)*p}${m});
			opacity: ${c-u*t}`}}var ja=s(((e,t)=>{var n=function(e){return r(e)&&!i(e)};function r(e){return!!e&&typeof e==`object`}function i(e){var t=Object.prototype.toString.call(e);return t===`[object RegExp]`||t===`[object Date]`||o(e)}var a=typeof Symbol==`function`&&Symbol.for?Symbol.for(`react.element`):60103;function o(e){return e.$$typeof===a}function s(e){return Array.isArray(e)?[]:{}}function c(e,t){return t.clone!==!1&&t.isMergeableObject(e)?g(s(e),e,t):e}function l(e,t,n){return e.concat(t).map(function(e){return c(e,n)})}function u(e,t){if(!t.customMerge)return g;var n=t.customMerge(e);return typeof n==`function`?n:g}function d(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function f(e){return Object.keys(e).concat(d(e))}function p(e,t){try{return t in e}catch{return!1}}function m(e,t){return p(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function h(e,t,n){var r={};return n.isMergeableObject(e)&&f(e).forEach(function(t){r[t]=c(e[t],n)}),f(t).forEach(function(i){m(e,i)||(p(e,i)&&n.isMergeableObject(t[i])?r[i]=u(i,n)(e[i],t[i],n):r[i]=c(t[i],n))}),r}function g(e,t,r){r||={},r.arrayMerge=r.arrayMerge||l,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=c;var i=Array.isArray(t);return i===Array.isArray(e)?i?r.arrayMerge(e,t,r):h(e,t,r):c(t,r)}g.all=function(e,t){if(!Array.isArray(e))throw Error(`first argument should be an array`);return e.reduce(function(e,n){return g(e,n,t)},{})},t.exports=g})),Ma=function(e,t){return Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ma(e,t)};function Na(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);Ma(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q.apply(this,arguments)};function Pa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Fa(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Ia(e,t){var n=t&&t.cache?t.cache:Ka,r=t&&t.serializer?t.serializer:Wa;return(t&&t.strategy?t.strategy:Va)(e,{cache:n,serializer:r})}function La(e){return e==null||typeof e==`number`||typeof e==`boolean`}function Ra(e,t,n,r){var i=La(r)?r:n(r),a=t.get(i);return a===void 0&&(a=e.call(this,r),t.set(i,a)),a}function za(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),a=t.get(i);return a===void 0&&(a=e.apply(this,r),t.set(i,a)),a}function Ba(e,t,n,r,i){return n.bind(t,e,r,i)}function Va(e,t){var n=e.length===1?Ra:za;return Ba(e,this,n,t.cache.create(),t.serializer)}function Ha(e,t){return Ba(e,this,za,t.cache.create(),t.serializer)}function Ua(e,t){return Ba(e,this,Ra,t.cache.create(),t.serializer)}var Wa=function(){return JSON.stringify(arguments)},Ga=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(e){return this.cache[e]},e.prototype.set=function(e,t){this.cache[e]=t},e}(),Ka={create:function(){return new Ga}},qa={variadic:Ha,monadic:Ua},J;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]=`EXPECT_ARGUMENT_CLOSING_BRACE`,e[e.EMPTY_ARGUMENT=2]=`EMPTY_ARGUMENT`,e[e.MALFORMED_ARGUMENT=3]=`MALFORMED_ARGUMENT`,e[e.EXPECT_ARGUMENT_TYPE=4]=`EXPECT_ARGUMENT_TYPE`,e[e.INVALID_ARGUMENT_TYPE=5]=`INVALID_ARGUMENT_TYPE`,e[e.EXPECT_ARGUMENT_STYLE=6]=`EXPECT_ARGUMENT_STYLE`,e[e.INVALID_NUMBER_SKELETON=7]=`INVALID_NUMBER_SKELETON`,e[e.INVALID_DATE_TIME_SKELETON=8]=`INVALID_DATE_TIME_SKELETON`,e[e.EXPECT_NUMBER_SKELETON=9]=`EXPECT_NUMBER_SKELETON`,e[e.EXPECT_DATE_TIME_SKELETON=10]=`EXPECT_DATE_TIME_SKELETON`,e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]=`UNCLOSED_QUOTE_IN_ARGUMENT_STYLE`,e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]=`EXPECT_SELECT_ARGUMENT_OPTIONS`,e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]=`EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE`,e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]=`INVALID_PLURAL_ARGUMENT_OFFSET_VALUE`,e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]=`EXPECT_SELECT_ARGUMENT_SELECTOR`,e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]=`EXPECT_PLURAL_ARGUMENT_SELECTOR`,e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]=`EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT`,e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]=`EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT`,e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]=`INVALID_PLURAL_ARGUMENT_SELECTOR`,e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]=`DUPLICATE_PLURAL_ARGUMENT_SELECTOR`,e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]=`DUPLICATE_SELECT_ARGUMENT_SELECTOR`,e[e.MISSING_OTHER_CLAUSE=22]=`MISSING_OTHER_CLAUSE`,e[e.INVALID_TAG=23]=`INVALID_TAG`,e[e.INVALID_TAG_NAME=25]=`INVALID_TAG_NAME`,e[e.UNMATCHED_CLOSING_TAG=26]=`UNMATCHED_CLOSING_TAG`,e[e.UNCLOSED_TAG=27]=`UNCLOSED_TAG`})(J||={});var Y;(function(e){e[e.literal=0]=`literal`,e[e.argument=1]=`argument`,e[e.number=2]=`number`,e[e.date=3]=`date`,e[e.time=4]=`time`,e[e.select=5]=`select`,e[e.plural=6]=`plural`,e[e.pound=7]=`pound`,e[e.tag=8]=`tag`})(Y||={});var Ja;(function(e){e[e.number=0]=`number`,e[e.dateTime=1]=`dateTime`})(Ja||={});function Ya(e){return e.type===Y.literal}function Xa(e){return e.type===Y.argument}function Za(e){return e.type===Y.number}function Qa(e){return e.type===Y.date}function $a(e){return e.type===Y.time}function eo(e){return e.type===Y.select}function to(e){return e.type===Y.plural}function no(e){return e.type===Y.pound}function ro(e){return e.type===Y.tag}function io(e){return!!(e&&typeof e==`object`&&e.type===Ja.number)}function ao(e){return!!(e&&typeof e==`object`&&e.type===Ja.dateTime)}var oo=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,so=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function co(e){var t={};return e.replace(so,function(e){var n=e.length;switch(e[0]){case`G`:t.era=n===4?`long`:n===5?`narrow`:`short`;break;case`y`:t.year=n===2?`2-digit`:`numeric`;break;case`Y`:case`u`:case`U`:case`r`:throw RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case`q`:case`Q`:throw RangeError("`q/Q` (quarter) patterns are not supported");case`M`:case`L`:t.month=[`numeric`,`2-digit`,`short`,`long`,`narrow`][n-1];break;case`w`:case`W`:throw RangeError("`w/W` (week) patterns are not supported");case`d`:t.day=[`numeric`,`2-digit`][n-1];break;case`D`:case`F`:case`g`:throw RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case`E`:t.weekday=n===4?`long`:n===5?`narrow`:`short`;break;case`e`:if(n<4)throw RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=[`short`,`long`,`narrow`,`short`][n-4];break;case`c`:if(n<4)throw RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=[`short`,`long`,`narrow`,`short`][n-4];break;case`a`:t.hour12=!0;break;case`b`:case`B`:throw RangeError("`b/B` (period) patterns are not supported, use `a` instead");case`h`:t.hourCycle=`h12`,t.hour=[`numeric`,`2-digit`][n-1];break;case`H`:t.hourCycle=`h23`,t.hour=[`numeric`,`2-digit`][n-1];break;case`K`:t.hourCycle=`h11`,t.hour=[`numeric`,`2-digit`][n-1];break;case`k`:t.hourCycle=`h24`,t.hour=[`numeric`,`2-digit`][n-1];break;case`j`:case`J`:case`C`:throw RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case`m`:t.minute=[`numeric`,`2-digit`][n-1];break;case`s`:t.second=[`numeric`,`2-digit`][n-1];break;case`S`:case`A`:throw RangeError("`S/A` (second) patterns are not supported, use `s` instead");case`z`:t.timeZoneName=n<4?`short`:`long`;break;case`Z`:case`O`:case`v`:case`V`:case`X`:case`x`:throw RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return``}),t}var lo=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function uo(e){if(e.length===0)throw Error(`Number skeleton cannot be empty`);for(var t=e.split(lo).filter(function(e){return e.length>0}),n=[],r=0,i=t;r<i.length;r++){var a=i[r].split(`/`);if(a.length===0)throw Error(`Invalid number skeleton`);for(var o=a[0],s=a.slice(1),c=0,l=s;c<l.length;c++)if(l[c].length===0)throw Error(`Invalid number skeleton`);n.push({stem:o,options:s})}return n}function fo(e){return e.replace(/^(.*?)-/,``)}var po=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,mo=/^(@+)?(\+|#+)?[rs]?$/g,ho=/(\*)(0+)|(#+)(0+)|(0+)/g,go=/^(0+)$/;function _o(e){var t={};return e[e.length-1]===`r`?t.roundingPriority=`morePrecision`:e[e.length-1]===`s`&&(t.roundingPriority=`lessPrecision`),e.replace(mo,function(e,n,r){return typeof r==`string`?r===`+`?t.minimumSignificantDigits=n.length:n[0]===`#`?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+(typeof r==`string`?r.length:0)):(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length),``}),t}function vo(e){switch(e){case`sign-auto`:return{signDisplay:`auto`};case`sign-accounting`:case`()`:return{currencySign:`accounting`};case`sign-always`:case`+!`:return{signDisplay:`always`};case`sign-accounting-always`:case`()!`:return{signDisplay:`always`,currencySign:`accounting`};case`sign-except-zero`:case`+?`:return{signDisplay:`exceptZero`};case`sign-accounting-except-zero`:case`()?`:return{signDisplay:`exceptZero`,currencySign:`accounting`};case`sign-never`:case`+_`:return{signDisplay:`never`}}}function yo(e){var t;if(e[0]===`E`&&e[1]===`E`?(t={notation:`engineering`},e=e.slice(2)):e[0]===`E`&&(t={notation:`scientific`},e=e.slice(1)),t){var n=e.slice(0,2);if(n===`+!`?(t.signDisplay=`always`,e=e.slice(2)):n===`+?`&&(t.signDisplay=`exceptZero`,e=e.slice(2)),!go.test(e))throw Error(`Malformed concise eng/scientific notation`);t.minimumIntegerDigits=e.length}return t}function bo(e){return vo(e)||{}}function xo(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case`percent`:case`%`:t.style=`percent`;continue;case`%x100`:t.style=`percent`,t.scale=100;continue;case`currency`:t.style=`currency`,t.currency=i.options[0];continue;case`group-off`:case`,_`:t.useGrouping=!1;continue;case`precision-integer`:case`.`:t.maximumFractionDigits=0;continue;case`measure-unit`:case`unit`:t.style=`unit`,t.unit=fo(i.options[0]);continue;case`compact-short`:case`K`:t.notation=`compact`,t.compactDisplay=`short`;continue;case`compact-long`:case`KK`:t.notation=`compact`,t.compactDisplay=`long`;continue;case`scientific`:t=q(q(q({},t),{notation:`scientific`}),i.options.reduce(function(e,t){return q(q({},e),bo(t))},{}));continue;case`engineering`:t=q(q(q({},t),{notation:`engineering`}),i.options.reduce(function(e,t){return q(q({},e),bo(t))},{}));continue;case`notation-simple`:t.notation=`standard`;continue;case`unit-width-narrow`:t.currencyDisplay=`narrowSymbol`,t.unitDisplay=`narrow`;continue;case`unit-width-short`:t.currencyDisplay=`code`,t.unitDisplay=`short`;continue;case`unit-width-full-name`:t.currencyDisplay=`name`,t.unitDisplay=`long`;continue;case`unit-width-iso-code`:t.currencyDisplay=`symbol`;continue;case`scale`:t.scale=parseFloat(i.options[0]);continue;case`rounding-mode-floor`:t.roundingMode=`floor`;continue;case`rounding-mode-ceiling`:t.roundingMode=`ceil`;continue;case`rounding-mode-down`:t.roundingMode=`trunc`;continue;case`rounding-mode-up`:t.roundingMode=`expand`;continue;case`rounding-mode-half-even`:t.roundingMode=`halfEven`;continue;case`rounding-mode-half-down`:t.roundingMode=`halfTrunc`;continue;case`rounding-mode-half-up`:t.roundingMode=`halfExpand`;continue;case`integer-width`:if(i.options.length>1)throw RangeError(`integer-width stems only accept a single optional option`);i.options[0].replace(ho,function(e,n,r,i,a,o){if(n)t.minimumIntegerDigits=r.length;else if(i&&a)throw Error(`We currently do not support maximum integer digits`);else if(o)throw Error(`We currently do not support exact integer digits`);return``});continue}if(go.test(i.stem)){t.minimumIntegerDigits=i.stem.length;continue}if(po.test(i.stem)){if(i.options.length>1)throw RangeError(`Fraction-precision stems only accept a single optional option`);i.stem.replace(po,function(e,n,r,i,a,o){return r===`*`?t.minimumFractionDigits=n.length:i&&i[0]===`#`?t.maximumFractionDigits=i.length:a&&o?(t.minimumFractionDigits=a.length,t.maximumFractionDigits=a.length+o.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),``});var a=i.options[0];a===`w`?t=q(q({},t),{trailingZeroDisplay:`stripIfInteger`}):a&&(t=q(q({},t),_o(a)));continue}if(mo.test(i.stem)){t=q(q({},t),_o(i.stem));continue}var o=vo(i.stem);o&&(t=q(q({},t),o));var s=yo(i.stem);s&&(t=q(q({},t),s))}return t}var So={"001":[`H`,`h`],419:[`h`,`H`,`hB`,`hb`],AC:[`H`,`h`,`hb`,`hB`],AD:[`H`,`hB`],AE:[`h`,`hB`,`hb`,`H`],AF:[`H`,`hb`,`hB`,`h`],AG:[`h`,`hb`,`H`,`hB`],AI:[`H`,`h`,`hb`,`hB`],AL:[`h`,`H`,`hB`],AM:[`H`,`hB`],AO:[`H`,`hB`],AR:[`h`,`H`,`hB`,`hb`],AS:[`h`,`H`],AT:[`H`,`hB`],AU:[`h`,`hb`,`H`,`hB`],AW:[`H`,`hB`],AX:[`H`],AZ:[`H`,`hB`,`h`],BA:[`H`,`hB`,`h`],BB:[`h`,`hb`,`H`,`hB`],BD:[`h`,`hB`,`H`],BE:[`H`,`hB`],BF:[`H`,`hB`],BG:[`H`,`hB`,`h`],BH:[`h`,`hB`,`hb`,`H`],BI:[`H`,`h`],BJ:[`H`,`hB`],BL:[`H`,`hB`],BM:[`h`,`hb`,`H`,`hB`],BN:[`hb`,`hB`,`h`,`H`],BO:[`h`,`H`,`hB`,`hb`],BQ:[`H`],BR:[`H`,`hB`],BS:[`h`,`hb`,`H`,`hB`],BT:[`h`,`H`],BW:[`H`,`h`,`hb`,`hB`],BY:[`H`,`h`],BZ:[`H`,`h`,`hb`,`hB`],CA:[`h`,`hb`,`H`,`hB`],CC:[`H`,`h`,`hb`,`hB`],CD:[`hB`,`H`],CF:[`H`,`h`,`hB`],CG:[`H`,`hB`],CH:[`H`,`hB`,`h`],CI:[`H`,`hB`],CK:[`H`,`h`,`hb`,`hB`],CL:[`h`,`H`,`hB`,`hb`],CM:[`H`,`h`,`hB`],CN:[`H`,`hB`,`hb`,`h`],CO:[`h`,`H`,`hB`,`hb`],CP:[`H`],CR:[`h`,`H`,`hB`,`hb`],CU:[`h`,`H`,`hB`,`hb`],CV:[`H`,`hB`],CW:[`H`,`hB`],CX:[`H`,`h`,`hb`,`hB`],CY:[`h`,`H`,`hb`,`hB`],CZ:[`H`],DE:[`H`,`hB`],DG:[`H`,`h`,`hb`,`hB`],DJ:[`h`,`H`],DK:[`H`],DM:[`h`,`hb`,`H`,`hB`],DO:[`h`,`H`,`hB`,`hb`],DZ:[`h`,`hB`,`hb`,`H`],EA:[`H`,`h`,`hB`,`hb`],EC:[`h`,`H`,`hB`,`hb`],EE:[`H`,`hB`],EG:[`h`,`hB`,`hb`,`H`],EH:[`h`,`hB`,`hb`,`H`],ER:[`h`,`H`],ES:[`H`,`hB`,`h`,`hb`],ET:[`hB`,`hb`,`h`,`H`],FI:[`H`],FJ:[`h`,`hb`,`H`,`hB`],FK:[`H`,`h`,`hb`,`hB`],FM:[`h`,`hb`,`H`,`hB`],FO:[`H`,`h`],FR:[`H`,`hB`],GA:[`H`,`hB`],GB:[`H`,`h`,`hb`,`hB`],GD:[`h`,`hb`,`H`,`hB`],GE:[`H`,`hB`,`h`],GF:[`H`,`hB`],GG:[`H`,`h`,`hb`,`hB`],GH:[`h`,`H`],GI:[`H`,`h`,`hb`,`hB`],GL:[`H`,`h`],GM:[`h`,`hb`,`H`,`hB`],GN:[`H`,`hB`],GP:[`H`,`hB`],GQ:[`H`,`hB`,`h`,`hb`],GR:[`h`,`H`,`hb`,`hB`],GT:[`h`,`H`,`hB`,`hb`],GU:[`h`,`hb`,`H`,`hB`],GW:[`H`,`hB`],GY:[`h`,`hb`,`H`,`hB`],HK:[`h`,`hB`,`hb`,`H`],HN:[`h`,`H`,`hB`,`hb`],HR:[`H`,`hB`],HU:[`H`,`h`],IC:[`H`,`h`,`hB`,`hb`],ID:[`H`],IE:[`H`,`h`,`hb`,`hB`],IL:[`H`,`hB`],IM:[`H`,`h`,`hb`,`hB`],IN:[`h`,`H`],IO:[`H`,`h`,`hb`,`hB`],IQ:[`h`,`hB`,`hb`,`H`],IR:[`hB`,`H`],IS:[`H`],IT:[`H`,`hB`],JE:[`H`,`h`,`hb`,`hB`],JM:[`h`,`hb`,`H`,`hB`],JO:[`h`,`hB`,`hb`,`H`],JP:[`H`,`K`,`h`],KE:[`hB`,`hb`,`H`,`h`],KG:[`H`,`h`,`hB`,`hb`],KH:[`hB`,`h`,`H`,`hb`],KI:[`h`,`hb`,`H`,`hB`],KM:[`H`,`h`,`hB`,`hb`],KN:[`h`,`hb`,`H`,`hB`],KP:[`h`,`H`,`hB`,`hb`],KR:[`h`,`H`,`hB`,`hb`],KW:[`h`,`hB`,`hb`,`H`],KY:[`h`,`hb`,`H`,`hB`],KZ:[`H`,`hB`],LA:[`H`,`hb`,`hB`,`h`],LB:[`h`,`hB`,`hb`,`H`],LC:[`h`,`hb`,`H`,`hB`],LI:[`H`,`hB`,`h`],LK:[`H`,`h`,`hB`,`hb`],LR:[`h`,`hb`,`H`,`hB`],LS:[`h`,`H`],LT:[`H`,`h`,`hb`,`hB`],LU:[`H`,`h`,`hB`],LV:[`H`,`hB`,`hb`,`h`],LY:[`h`,`hB`,`hb`,`H`],MA:[`H`,`h`,`hB`,`hb`],MC:[`H`,`hB`],MD:[`H`,`hB`],ME:[`H`,`hB`,`h`],MF:[`H`,`hB`],MG:[`H`,`h`],MH:[`h`,`hb`,`H`,`hB`],MK:[`H`,`h`,`hb`,`hB`],ML:[`H`],MM:[`hB`,`hb`,`H`,`h`],MN:[`H`,`h`,`hb`,`hB`],MO:[`h`,`hB`,`hb`,`H`],MP:[`h`,`hb`,`H`,`hB`],MQ:[`H`,`hB`],MR:[`h`,`hB`,`hb`,`H`],MS:[`H`,`h`,`hb`,`hB`],MT:[`H`,`h`],MU:[`H`,`h`],MV:[`H`,`h`],MW:[`h`,`hb`,`H`,`hB`],MX:[`h`,`H`,`hB`,`hb`],MY:[`hb`,`hB`,`h`,`H`],MZ:[`H`,`hB`],NA:[`h`,`H`,`hB`,`hb`],NC:[`H`,`hB`],NE:[`H`],NF:[`H`,`h`,`hb`,`hB`],NG:[`H`,`h`,`hb`,`hB`],NI:[`h`,`H`,`hB`,`hb`],NL:[`H`,`hB`],NO:[`H`,`h`],NP:[`H`,`h`,`hB`],NR:[`H`,`h`,`hb`,`hB`],NU:[`H`,`h`,`hb`,`hB`],NZ:[`h`,`hb`,`H`,`hB`],OM:[`h`,`hB`,`hb`,`H`],PA:[`h`,`H`,`hB`,`hb`],PE:[`h`,`H`,`hB`,`hb`],PF:[`H`,`h`,`hB`],PG:[`h`,`H`],PH:[`h`,`hB`,`hb`,`H`],PK:[`h`,`hB`,`H`],PL:[`H`,`h`],PM:[`H`,`hB`],PN:[`H`,`h`,`hb`,`hB`],PR:[`h`,`H`,`hB`,`hb`],PS:[`h`,`hB`,`hb`,`H`],PT:[`H`,`hB`],PW:[`h`,`H`],PY:[`h`,`H`,`hB`,`hb`],QA:[`h`,`hB`,`hb`,`H`],RE:[`H`,`hB`],RO:[`H`,`hB`],RS:[`H`,`hB`,`h`],RU:[`H`],RW:[`H`,`h`],SA:[`h`,`hB`,`hb`,`H`],SB:[`h`,`hb`,`H`,`hB`],SC:[`H`,`h`,`hB`],SD:[`h`,`hB`,`hb`,`H`],SE:[`H`],SG:[`h`,`hb`,`H`,`hB`],SH:[`H`,`h`,`hb`,`hB`],SI:[`H`,`hB`],SJ:[`H`],SK:[`H`],SL:[`h`,`hb`,`H`,`hB`],SM:[`H`,`h`,`hB`],SN:[`H`,`h`,`hB`],SO:[`h`,`H`],SR:[`H`,`hB`],SS:[`h`,`hb`,`H`,`hB`],ST:[`H`,`hB`],SV:[`h`,`H`,`hB`,`hb`],SX:[`H`,`h`,`hb`,`hB`],SY:[`h`,`hB`,`hb`,`H`],SZ:[`h`,`hb`,`H`,`hB`],TA:[`H`,`h`,`hb`,`hB`],TC:[`h`,`hb`,`H`,`hB`],TD:[`h`,`H`,`hB`],TF:[`H`,`h`,`hB`],TG:[`H`,`hB`],TH:[`H`,`h`],TJ:[`H`,`h`],TL:[`H`,`hB`,`hb`,`h`],TM:[`H`,`h`],TN:[`h`,`hB`,`hb`,`H`],TO:[`h`,`H`],TR:[`H`,`hB`],TT:[`h`,`hb`,`H`,`hB`],TW:[`hB`,`hb`,`h`,`H`],TZ:[`hB`,`hb`,`H`,`h`],UA:[`H`,`hB`,`h`],UG:[`hB`,`hb`,`H`,`h`],UM:[`h`,`hb`,`H`,`hB`],US:[`h`,`hb`,`H`,`hB`],UY:[`h`,`H`,`hB`,`hb`],UZ:[`H`,`hB`,`h`],VA:[`H`,`h`,`hB`],VC:[`h`,`hb`,`H`,`hB`],VE:[`h`,`H`,`hB`,`hb`],VG:[`h`,`hb`,`H`,`hB`],VI:[`h`,`hb`,`H`,`hB`],VN:[`H`,`h`],VU:[`h`,`H`],WF:[`H`,`hB`],WS:[`h`,`H`],XK:[`H`,`hB`,`h`],YE:[`h`,`hB`,`hb`,`H`],YT:[`H`,`hB`],ZA:[`H`,`h`,`hb`,`hB`],ZM:[`h`,`hb`,`H`,`hB`],ZW:[`H`,`h`],"af-ZA":[`H`,`h`,`hB`,`hb`],"ar-001":[`h`,`hB`,`hb`,`H`],"ca-ES":[`H`,`h`,`hB`],"en-001":[`h`,`hb`,`H`,`hB`],"en-HK":[`h`,`hb`,`H`,`hB`],"en-IL":[`H`,`h`,`hb`,`hB`],"en-MY":[`h`,`hb`,`H`,`hB`],"es-BR":[`H`,`h`,`hB`,`hb`],"es-ES":[`H`,`h`,`hB`,`hb`],"es-GQ":[`H`,`h`,`hB`,`hb`],"fr-CA":[`H`,`h`,`hB`],"gl-ES":[`H`,`h`,`hB`],"gu-IN":[`hB`,`hb`,`h`,`H`],"hi-IN":[`hB`,`h`,`H`],"it-CH":[`H`,`h`,`hB`],"it-IT":[`H`,`h`,`hB`],"kn-IN":[`hB`,`h`,`H`],"ml-IN":[`hB`,`h`,`H`],"mr-IN":[`hB`,`hb`,`h`,`H`],"pa-IN":[`hB`,`hb`,`h`,`H`],"ta-IN":[`hB`,`h`,`hb`,`H`],"te-IN":[`hB`,`h`,`H`],"zu-ZA":[`H`,`hB`,`hb`,`h`]};function Co(e,t){for(var n=``,r=0;r<e.length;r++){var i=e.charAt(r);if(i===`j`){for(var a=0;r+1<e.length&&e.charAt(r+1)===i;)a++,r++;var o=1+(a&1),s=a<2?1:3+(a>>1),c=`a`,l=wo(t);for((l==`H`||l==`k`)&&(s=0);s-- >0;)n+=c;for(;o-- >0;)n=l+n}else i===`J`?n+=`H`:n+=i}return n}function wo(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case`h24`:return`k`;case`h23`:return`H`;case`h12`:return`h`;case`h11`:return`K`;default:throw Error(`Invalid hourCycle`)}var n=e.language,r;return n!==`root`&&(r=e.maximize().region),(So[r||``]||So[n||``]||So[`${n}-001`]||So[`001`])[0]}var To=RegExp(`^${oo.source}*`),Eo=RegExp(`${oo.source}*\$`);function X(e,t){return{start:e,end:t}}var Do=!!String.prototype.startsWith&&`_a`.startsWith(`a`,1),Oo=!!String.fromCodePoint,ko=!!Object.fromEntries,Ao=!!String.prototype.codePointAt,jo=!!String.prototype.trimStart,Mo=!!String.prototype.trimEnd,No=Number.isSafeInteger?Number.isSafeInteger:function(e){return typeof e==`number`&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Po=!0;try{Po=Vo(`([^\\p{White_Space}\\p{Pattern_Syntax}]*)`,`yu`).exec(`a`)?.[0]===`a`}catch{Po=!1}var Fo=Do?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Io=Oo?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=``,r=e.length,i=0,a;r>i;){if(a=e[i++],a>1114111)throw RangeError(a+` is not a valid code point`);n+=a<65536?String.fromCharCode(a):String.fromCharCode(((a-=65536)>>10)+55296,a%1024+56320)}return n},Lo=ko?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],a=i[0];t[a]=i[1]}return t},Ro=Ao?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r=e.charCodeAt(t),i;return r<55296||r>56319||t+1===n||(i=e.charCodeAt(t+1))<56320||i>57343?r:(r-55296<<10)+(i-56320)+65536}},zo=jo?function(e){return e.trimStart()}:function(e){return e.replace(To,``)},Bo=Mo?function(e){return e.trimEnd()}:function(e){return e.replace(Eo,``)};function Vo(e,t){return new RegExp(e,t)}var Ho;if(Po){var Uo=Vo(`([^\\p{White_Space}\\p{Pattern_Syntax}]*)`,`yu`);Ho=function(e,t){return Uo.lastIndex=t,Uo.exec(e)[1]??``}}else Ho=function(e,t){for(var n=[];;){var r=Ro(e,t);if(r===void 0||Jo(r)||Yo(r))break;n.push(r),t+=r>=65536?2:1}return Io.apply(void 0,n)};var Wo=function(){function e(e,t){t===void 0&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error(`parser can only be used once`);return this.parseMessage(0,``,!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(i===123){var a=this.parseArgument(e,n);if(a.err)return a;r.push(a.val)}else if(i===125&&e>0)break;else if(i===35&&(t===`plural`||t===`selectordinal`)){var o=this.clonePosition();this.bump(),r.push({type:Y.pound,location:X(o,this.clonePosition())})}else if(i===60&&!this.ignoreTag&&this.peek()===47){if(n)break;return this.error(J.UNMATCHED_CLOSING_TAG,X(this.clonePosition(),this.clonePosition()))}else if(i===60&&!this.ignoreTag&&Go(this.peek()||0)){var a=this.parseTag(e,t);if(a.err)return a;r.push(a.val)}else{var a=this.parseLiteral(e,t);if(a.err)return a;r.push(a.val)}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf(`/>`))return{val:{type:Y.literal,value:`<${r}/>`,location:X(n,this.clonePosition())},err:null};if(this.bumpIf(`>`)){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var a=i.val,o=this.clonePosition();if(this.bumpIf(`</`)){if(this.isEOF()||!Go(this.char()))return this.error(J.INVALID_TAG,X(o,this.clonePosition()));var s=this.clonePosition(),c=this.parseTagName();return r===c?(this.bumpSpace(),this.bumpIf(`>`)?{val:{type:Y.tag,value:r,children:a,location:X(n,this.clonePosition())},err:null}:this.error(J.INVALID_TAG,X(o,this.clonePosition()))):this.error(J.UNMATCHED_CLOSING_TAG,X(s,this.clonePosition()))}else return this.error(J.UNCLOSED_TAG,X(n,this.clonePosition()))}else return this.error(J.INVALID_TAG,X(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&qo(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r=``;;){var i=this.tryParseQuote(t);if(i){r+=i;continue}var a=this.tryParseUnquoted(e,t);if(a){r+=a;continue}var o=this.tryParseLeftAngleBracket();if(o){r+=o;continue}break}var s=X(n,this.clonePosition());return{val:{type:Y.literal,value:r,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!Ko(this.peek()||0))?(this.bump(),`<`):null},e.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),`'`;case 123:case 60:case 62:case 125:break;case 35:if(e===`plural`||e===`selectordinal`)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(n===39)if(this.peek()===39)t.push(39),this.bump();else{this.bump();break}else t.push(n);this.bump()}return Io.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return n===60||n===123||n===35&&(t===`plural`||t===`selectordinal`)||n===125&&e>0?null:(this.bump(),Io(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(J.EXPECT_ARGUMENT_CLOSING_BRACE,X(n,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(J.EMPTY_ARGUMENT,X(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(J.MALFORMED_ARGUMENT,X(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(J.EXPECT_ARGUMENT_CLOSING_BRACE,X(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Y.argument,value:r,location:X(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(J.EXPECT_ARGUMENT_CLOSING_BRACE,X(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(J.MALFORMED_ARGUMENT,X(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Ho(this.message,t),r=t+n.length;this.bumpTo(r);var i=this.clonePosition(),a=X(e,i);return{value:n,location:a}},e.prototype.parseArgumentOptions=function(e,t,n,r){var i=this.clonePosition(),a=this.parseIdentifierIfPossible().value,o=this.clonePosition();switch(a){case``:return this.error(J.EXPECT_ARGUMENT_TYPE,X(i,o));case`number`:case`date`:case`time`:this.bumpSpace();var s=null;if(this.bumpIf(`,`)){this.bumpSpace();var c=this.clonePosition(),l=this.parseSimpleArgStyleIfPossible();if(l.err)return l;var u=Bo(l.val);if(u.length===0)return this.error(J.EXPECT_ARGUMENT_STYLE,X(this.clonePosition(),this.clonePosition()));var d=X(c,this.clonePosition());s={style:u,styleLocation:d}}var f=this.tryParseArgumentClose(r);if(f.err)return f;var p=X(r,this.clonePosition());if(s&&Fo(s?.style,`::`,0)){var m=zo(s.style.slice(2));if(a===`number`){var l=this.parseNumberSkeletonFromString(m,s.styleLocation);return l.err?l:{val:{type:Y.number,value:n,location:p,style:l.val},err:null}}else{if(m.length===0)return this.error(J.EXPECT_DATE_TIME_SKELETON,p);var h=m;this.locale&&(h=Co(m,this.locale));var u={type:Ja.dateTime,pattern:h,location:s.styleLocation,parsedOptions:this.shouldParseSkeletons?co(h):{}};return{val:{type:a===`date`?Y.date:Y.time,value:n,location:p,style:u},err:null}}}return{val:{type:a===`number`?Y.number:a===`date`?Y.date:Y.time,value:n,location:p,style:s?.style??null},err:null};case`plural`:case`selectordinal`:case`select`:var g=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(`,`))return this.error(J.EXPECT_SELECT_ARGUMENT_OPTIONS,X(g,q({},g)));this.bumpSpace();var _=this.parseIdentifierIfPossible(),v=0;if(a!==`select`&&_.value===`offset`){if(!this.bumpIf(`:`))return this.error(J.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,X(this.clonePosition(),this.clonePosition()));this.bumpSpace();var l=this.tryParseDecimalInteger(J.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,J.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(l.err)return l;this.bumpSpace(),_=this.parseIdentifierIfPossible(),v=l.val}var y=this.tryParsePluralOrSelectOptions(e,a,t,_);if(y.err)return y;var f=this.tryParseArgumentClose(r);if(f.err)return f;var b=X(r,this.clonePosition());return a===`select`?{val:{type:Y.select,value:n,options:Lo(y.val),location:b},err:null}:{val:{type:Y.plural,value:n,options:Lo(y.val),offset:v,pluralType:a===`plural`?`cardinal`:`ordinal`,location:b},err:null};default:return this.error(J.INVALID_ARGUMENT_TYPE,X(i,o))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(J.EXPECT_ARGUMENT_CLOSING_BRACE,X(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil(`'`))return this.error(J.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,X(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(e>0)--e;else return{val:this.message.slice(t.offset,this.offset()),err:null};break;default:this.bump();break}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=uo(e)}catch{return this.error(J.INVALID_NUMBER_SKELETON,t)}return{val:{type:Ja.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?xo(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,a=!1,o=[],s=new Set,c=r.value,l=r.location;;){if(c.length===0){var u=this.clonePosition();if(t!==`select`&&this.bumpIf(`=`)){var d=this.tryParseDecimalInteger(J.EXPECT_PLURAL_ARGUMENT_SELECTOR,J.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;l=X(u,this.clonePosition()),c=this.message.slice(u.offset,this.offset())}else break}if(s.has(c))return this.error(t===`select`?J.DUPLICATE_SELECT_ARGUMENT_SELECTOR:J.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);c===`other`&&(a=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf(`{`))return this.error(t===`select`?J.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:J.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,X(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var m=this.tryParseArgumentClose(f);if(m.err)return m;o.push([c,{value:p.val,location:X(f,this.clonePosition())}]),s.add(c),this.bumpSpace(),i=this.parseIdentifierIfPossible(),c=i.value,l=i.location}return o.length===0?this.error(t===`select`?J.EXPECT_SELECT_ARGUMENT_SELECTOR:J.EXPECT_PLURAL_ARGUMENT_SELECTOR,X(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(J.MISSING_OTHER_CLAUSE,X(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf(`+`)||this.bumpIf(`-`)&&(n=-1);for(var i=!1,a=0;!this.isEOF();){var o=this.char();if(o>=48&&o<=57)i=!0,a=a*10+(o-48),this.bump();else break}var s=X(r,this.clonePosition());return i?(a*=n,No(a)?{val:a,err:null}:this.error(t,s)):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error(`out of bound`);var t=Ro(this.message,e);if(t===void 0)throw Error(`Offset ${e} is at invalid UTF-16 code unit boundary`);return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Fo(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error(`targetOffset ${e} must be greater than or equal to the current offset ${this.offset()}`);for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error(`targetOffset ${e} is at invalid UTF-16 code unit boundary`);if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Jo(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset();return this.message.charCodeAt(t+(e>=65536?2:1))??null},e}();function Go(e){return e>=97&&e<=122||e>=65&&e<=90}function Ko(e){return Go(e)||e===47}function qo(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Jo(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function Yo(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function Xo(e){e.forEach(function(e){if(delete e.location,eo(e)||to(e))for(var t in e.options)delete e.options[t].location,Xo(e.options[t].value);else Za(e)&&io(e.style)||(Qa(e)||$a(e))&&ao(e.style)?delete e.style.location:ro(e)&&Xo(e.children)})}function Zo(e,t){t===void 0&&(t={}),t=q({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Wo(e,t).parse();if(n.err){var r=SyntaxError(J[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return t?.captureLocation||Xo(n.val),n.val}var Qo;(function(e){e.MISSING_VALUE=`MISSING_VALUE`,e.INVALID_VALUE=`INVALID_VALUE`,e.MISSING_INTL_API=`MISSING_INTL_API`})(Qo||={});var $o=function(e){Na(t,e);function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return t.prototype.toString=function(){return`[formatjs Error: ${this.code}] ${this.message}`},t}(Error),es=function(e){Na(t,e);function t(t,n,r,i){return e.call(this,`Invalid values for "${t}": "${n}". Options are "${Object.keys(r).join(`", "`)}"`,Qo.INVALID_VALUE,i)||this}return t}($o),ts=function(e){Na(t,e);function t(t,n,r){return e.call(this,`Value for "${t}" must be of type ${n}`,Qo.INVALID_VALUE,r)||this}return t}($o),ns=function(e){Na(t,e);function t(t,n){return e.call(this,`The intl string context variable "${t}" was not provided to the string "${n}"`,Qo.MISSING_VALUE,n)||this}return t}($o),Z;(function(e){e[e.literal=0]=`literal`,e[e.object=1]=`object`})(Z||={});function rs(e){return e.length<2?e:e.reduce(function(e,t){var n=e[e.length-1];return!n||n.type!==Z.literal||t.type!==Z.literal?e.push(t):n.value+=t.value,e},[])}function os(e){return typeof e==`function`}function ss(e,t,n,r,i,a,o){if(e.length===1&&Ya(e[0]))return[{type:Z.literal,value:e[0].value}];for(var s=[],c=0,l=e;c<l.length;c++){var u=l[c];if(Ya(u)){s.push({type:Z.literal,value:u.value});continue}if(no(u)){typeof a==`number`&&s.push({type:Z.literal,value:n.getNumberFormat(t).format(a)});continue}var d=u.value;if(!(i&&d in i))throw new ns(d,o);var f=i[d];if(Xa(u)){(!f||typeof f==`string`||typeof f==`number`)&&(f=typeof f==`string`||typeof f==`number`?String(f):``),s.push({type:typeof f==`string`?Z.literal:Z.object,value:f});continue}if(Qa(u)){var p=typeof u.style==`string`?r.date[u.style]:ao(u.style)?u.style.parsedOptions:void 0;s.push({type:Z.literal,value:n.getDateTimeFormat(t,p).format(f)});continue}if($a(u)){var p=typeof u.style==`string`?r.time[u.style]:ao(u.style)?u.style.parsedOptions:r.time.medium;s.push({type:Z.literal,value:n.getDateTimeFormat(t,p).format(f)});continue}if(Za(u)){var p=typeof u.style==`string`?r.number[u.style]:io(u.style)?u.style.parsedOptions:void 0;p&&p.scale&&(f*=p.scale||1),s.push({type:Z.literal,value:n.getNumberFormat(t,p).format(f)});continue}if(ro(u)){var m=u.children,h=u.value,g=i[h];if(!os(g))throw new ts(h,`function`,o);var _=ss(m,t,n,r,i,a),v=g(_.map(function(e){return e.value}));Array.isArray(v)||(v=[v]),s.push.apply(s,v.map(function(e){return{type:typeof e==`string`?Z.literal:Z.object,value:e}}))}if(eo(u)){var y=u.options[f]||u.options.other;if(!y)throw new es(u.value,f,Object.keys(u.options),o);s.push.apply(s,ss(y.value,t,n,r,i));continue}if(to(u)){var y=u.options[`=${f}`];if(!y){if(!Intl.PluralRules)throw new $o(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Qo.MISSING_INTL_API,o);var b=n.getPluralRules(t,{type:u.pluralType}).select(f-(u.offset||0));y=u.options[b]||u.options.other}if(!y)throw new es(u.value,f,Object.keys(u.options),o);s.push.apply(s,ss(y.value,t,n,r,i,f-(u.offset||0)));continue}}return rs(s)}function cs(e,t){return t?q(q(q({},e||{}),t||{}),Object.keys(e).reduce(function(n,r){return n[r]=q(q({},e[r]),t[r]||{}),n},{})):e}function ls(e,t){return t?Object.keys(e).reduce(function(n,r){return n[r]=cs(e[r],t[r]),n},q({},e)):e}function us(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function ds(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Ia(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Fa([void 0],t,!1)))},{cache:us(e.number),strategy:qa.variadic}),getDateTimeFormat:Ia(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Fa([void 0],t,!1)))},{cache:us(e.dateTime),strategy:qa.variadic}),getPluralRules:Ia(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Fa([void 0],t,!1)))},{cache:us(e.pluralRules),strategy:qa.variadic})}}var fs=function(){function e(t,n,r,i){n===void 0&&(n=e.defaultLocale);var a=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(t.length===1)return t[0].value;var n=t.reduce(function(e,t){return!e.length||t.type!==Z.literal||typeof e[e.length-1]!=`string`?e.push(t.value):e[e.length-1]+=t.value,e},[]);return n.length<=1?n[0]||``:n},this.formatToParts=function(e){return ss(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:a.resolvedLocale?.toString()||Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),typeof t==`string`){if(this.message=t,!e.__parse)throw TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var o=i||{};o.formatters;var s=Pa(o,[`formatters`]);this.ast=e.__parse(t,q(q({},s),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw TypeError(`A message must be provided as a String or AST.`);this.formats=ls(e.formats,r),this.formatters=i&&i.formatters||ds(this.formatterCache)}return Object.defineProperty(e,`defaultLocale`,{get:function(){return e.memoizedDefaultLocale||=new Intl.NumberFormat().resolvedOptions().locale,e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(Intl.Locale!==void 0){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale(typeof e==`string`?e:e[0])}},e.__parse=Zo,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:`currency`},percent:{style:`percent`}},date:{short:{month:`numeric`,day:`numeric`,year:`2-digit`},medium:{month:`short`,day:`numeric`,year:`numeric`},long:{month:`long`,day:`numeric`,year:`numeric`},full:{weekday:`long`,month:`long`,day:`numeric`,year:`numeric`}},time:{short:{hour:`numeric`,minute:`numeric`},medium:{hour:`numeric`,minute:`numeric`,second:`numeric`},long:{hour:`numeric`,minute:`numeric`,second:`numeric`,timeZoneName:`short`},full:{hour:`numeric`,minute:`numeric`,second:`numeric`,timeZoneName:`short`}}},e}(),ps=u(ja());function ms(e,t){if(t==null)return;if(t in e)return e[t];let n=t.split(`.`),r=e;for(let e=0;e<n.length;e++)if(typeof r==`object`){if(e>0){let t=n.slice(e,n.length).join(`.`);if(t in r){r=r[t];break}}r=r[n[e]]}else r=void 0;return r}var hs={},gs=(e,t,n)=>n&&(t in hs||(hs[t]={}),e in hs[t]||(hs[t][e]=n),n),_s=(e,t)=>{if(t==null)return;if(t in hs&&e in hs[t])return hs[t][e];let n=rc(t);for(let r=0;r<n.length;r++){let i=n[r],a=Ss(i,e);if(a)return gs(e,t,a)}},vs,ys=ga({});function bs(e){return vs[e]||null}function xs(e){return e in vs}function Ss(e,t){if(!xs(e))return null;let n=bs(e);return ms(n,t)}function Cs(e){if(e==null)return;let t=rc(e);for(let e=0;e<t.length;e++){let n=t[e];if(xs(n))return n}}function ws(e,...t){delete hs[e],ys.update(n=>(n[e]=ps.default.all([n[e]||{},...t]),n))}_a([ys],([e])=>Object.keys(e)),ys.subscribe(e=>vs=e);var Ts={};function Es(e){Ts[e]=new Set}function Ds(e,t){Ts[e].delete(t),Ts[e].size===0&&delete Ts[e]}function Os(e){return Ts[e]}function ks(e){return rc(e).map(e=>{let t=Os(e);return[e,t?[...t]:[]]}).filter(([,e])=>e.length>0)}function As(e){return e==null?!1:rc(e).some(e=>Os(e)?.size)}function js(e,t){return Promise.all(t.map(t=>(Ds(e,t),t().then(e=>e.default||e)))).then(t=>ws(e,...t))}var Ms={};function Ns(e){if(!As(e))return e in Ms?Ms[e]:Promise.resolve();let t=ks(e);return Ms[e]=Promise.all(t.map(([e,t])=>js(e,t))).then(()=>{if(As(e))return Ns(e);delete Ms[e]}),Ms[e]}function Ps(e,t){Os(e)||Es(e);let n=Os(e);Os(e).has(t)||(xs(e)||ys.update(t=>(t[e]={},t)),n.add(t))}var Fs=Object.getOwnPropertySymbols,Is=Object.prototype.hasOwnProperty,Ls=Object.prototype.propertyIsEnumerable,Rs=(e,t)=>{var n={};for(var r in e)Is.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fs)for(var r of Fs(e))t.indexOf(r)<0&&Ls.call(e,r)&&(n[r]=e[r]);return n},zs={number:{scientific:{notation:`scientific`},engineering:{notation:`engineering`},compactLong:{notation:`compact`,compactDisplay:`long`},compactShort:{notation:`compact`,compactDisplay:`short`}},date:{short:{month:`numeric`,day:`numeric`,year:`2-digit`},medium:{month:`short`,day:`numeric`,year:`numeric`},long:{month:`long`,day:`numeric`,year:`numeric`},full:{weekday:`long`,month:`long`,day:`numeric`,year:`numeric`}},time:{short:{hour:`numeric`,minute:`numeric`},medium:{hour:`numeric`,minute:`numeric`,second:`numeric`},long:{hour:`numeric`,minute:`numeric`,second:`numeric`,timeZoneName:`short`},full:{hour:`numeric`,minute:`numeric`,second:`numeric`,timeZoneName:`short`}}};function Bs({locale:e,id:t}){console.warn(`[svelte-i18n] The message "${t}" was not found in "${rc(e).join(`", "`)}".${As(ic())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:``}`)}var Vs={fallbackLocale:null,loadingDelay:200,formats:zs,warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0};function Hs(){return Vs}function Us(e){let t=e,{formats:n}=t,r=Rs(t,[`formats`]),i=e.fallbackLocale;if(e.initialLocale)try{fs.resolveLocale(e.initialLocale)&&(i=e.initialLocale)}catch{console.warn(`[svelte-i18n] The initial locale "${e.initialLocale}" is not a valid locale.`)}return r.warnOnMissingMessages&&(delete r.warnOnMissingMessages,r.handleMissingMessage==null?r.handleMissingMessage=Bs:console.warn(`[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.`)),Object.assign(Vs,r,{initialLocale:i}),n&&(`number`in n&&Object.assign(Vs.formats.number,n.number),`date`in n&&Object.assign(Vs.formats.date,n.date),`time`in n&&Object.assign(Vs.formats.time,n.time)),ac.set(i)}var Ws=ga(!1),Gs=Object.defineProperty,Ks=Object.defineProperties,qs=Object.getOwnPropertyDescriptors,Js=Object.getOwnPropertySymbols,Ys=Object.prototype.hasOwnProperty,Xs=Object.prototype.propertyIsEnumerable,Zs=(e,t,n)=>t in e?Gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qs=(e,t)=>{for(var n in t||={})Ys.call(t,n)&&Zs(e,n,t[n]);if(Js)for(var n of Js(t))Xs.call(t,n)&&Zs(e,n,t[n]);return e},$s=(e,t)=>Ks(e,qs(t)),ec,tc=ga(null);function nc(e){return e.split(`-`).map((e,t,n)=>n.slice(0,t+1).join(`-`)).reverse()}function rc(e,t=Hs().fallbackLocale){let n=nc(e);return t?[...new Set([...n,...nc(t)])]:n}function ic(){return ec??void 0}tc.subscribe(e=>{ec=e??void 0,typeof window<`u`&&e!=null&&document.documentElement.setAttribute(`lang`,e)});var ac=$s(Qs({},tc),{set:e=>{if(e&&Cs(e)&&As(e)){let{loadingDelay:t}=Hs(),n;return typeof window<`u`&&ic()!=null&&t?n=window.setTimeout(()=>Ws.set(!0),t):Ws.set(!0),Ns(e).then(()=>{tc.set(e)}).finally(()=>{clearTimeout(n),Ws.set(!1)})}return tc.set(e)}}),oc=()=>typeof window>`u`?null:window.navigator.language||window.navigator.languages[0],sc=e=>{let t=Object.create(null);return n=>{let r=JSON.stringify(n);return r in t?t[r]:t[r]=e(n)}},cc=Object.defineProperty,lc=Object.getOwnPropertySymbols,uc=Object.prototype.hasOwnProperty,dc=Object.prototype.propertyIsEnumerable,fc=(e,t,n)=>t in e?cc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pc=(e,t)=>{for(var n in t||={})uc.call(t,n)&&fc(e,n,t[n]);if(lc)for(var n of lc(t))dc.call(t,n)&&fc(e,n,t[n]);return e},mc=(e,t)=>{var n={};for(var r in e)uc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lc)for(var r of lc(e))t.indexOf(r)<0&&dc.call(e,r)&&(n[r]=e[r]);return n},hc=(e,t)=>{let{formats:n}=Hs();if(e in n&&t in n[e])return n[e][t];throw Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},gc=sc(e=>{var t=e,{locale:n,format:r}=t,i=mc(t,[`locale`,`format`]);if(n==null)throw Error(`[svelte-i18n] A "locale" must be set to format numbers`);return r&&(i=hc(`number`,r)),new Intl.NumberFormat(n,i)}),_c=sc(e=>{var t=e,{locale:n,format:r}=t,i=mc(t,[`locale`,`format`]);if(n==null)throw Error(`[svelte-i18n] A "locale" must be set to format dates`);return r?i=hc(`date`,r):Object.keys(i).length===0&&(i=hc(`date`,`short`)),new Intl.DateTimeFormat(n,i)}),vc=sc(e=>{var t=e,{locale:n,format:r}=t,i=mc(t,[`locale`,`format`]);if(n==null)throw Error(`[svelte-i18n] A "locale" must be set to format time values`);return r?i=hc(`time`,r):Object.keys(i).length===0&&(i=hc(`time`,`short`)),new Intl.DateTimeFormat(n,i)}),yc=(e={})=>{var t=e,{locale:n=ic()}=t,r=mc(t,[`locale`]);return gc(pc({locale:n},r))},bc=(e={})=>{var t=e,{locale:n=ic()}=t,r=mc(t,[`locale`]);return _c(pc({locale:n},r))},xc=(e={})=>{var t=e,{locale:n=ic()}=t,r=mc(t,[`locale`]);return vc(pc({locale:n},r))},Sc=sc((e,t=ic())=>new fs(e,t,Hs().formats,{ignoreTag:Hs().ignoreTag})),Cc=(e,t={})=>{var n;let r=t;typeof e==`object`&&(r=e,e=r.id);let{values:i,locale:a=ic(),default:o}=r;if(a==null)throw Error(`[svelte-i18n] Cannot format a message without first setting the initial locale.`);let s=_s(e,a);if(!s)s=(n=Hs()).handleMissingMessage?.call(n,{locale:a,id:e,defaultValue:o})??o??e;else if(typeof s!=`string`)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof s}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),s;if(!i)return s;let c=s;try{c=Sc(s,a).format(i)}catch(t){t instanceof Error&&console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return c},wc=(e,t)=>xc(t).format(e),Tc=(e,t)=>bc(t).format(e),Ec=(e,t)=>yc(t).format(e),Dc=(e,t=ic())=>_s(e,t),Oc=_a([ac,ys],()=>Cc);_a([ac],()=>wc),_a([ac],()=>Tc),_a([ac],()=>Ec),_a([ac,ys],()=>Dc);function kc(e){return Array.isArray?Array.isArray(e):zc(e)===`[object Array]`}var Ac=1/0;function jc(e){if(typeof e==`string`)return e;let t=e+``;return t==`0`&&1/e==-Ac?`-0`:t}function Mc(e){return e==null?``:jc(e)}function Nc(e){return typeof e==`string`}function Pc(e){return typeof e==`number`}function Fc(e){return e===!0||e===!1||Lc(e)&&zc(e)==`[object Boolean]`}function Ic(e){return typeof e==`object`}function Lc(e){return Ic(e)&&e!==null}function Q(e){return e!=null}function Rc(e){return!e.trim().length}function zc(e){return e==null?e===void 0?`[object Undefined]`:`[object Null]`:Object.prototype.toString.call(e)}var Bc=`Incorrect 'index' type`,Vc=e=>`Invalid value for key ${e}`,Hc=e=>`Pattern length exceeds max of ${e}.`,Uc=e=>`Missing ${e} property in key`,Wc=e=>`Property 'weight' in key '${e}' must be a positive integer`,Gc=Object.prototype.hasOwnProperty,Kc=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=qc(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function qc(e){let t=null,n=null,r=null,i=1,a=null;if(Nc(e)||kc(e))r=e,t=Jc(e),n=Yc(e);else{if(!Gc.call(e,`name`))throw Error(Uc(`name`));let o=e.name;if(r=o,Gc.call(e,`weight`)&&(i=e.weight,i<=0))throw Error(Wc(o));t=Jc(o),n=Yc(o),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function Jc(e){return kc(e)?e:e.split(`.`)}function Yc(e){return kc(e)?e.join(`.`):e}function Xc(e,t){let n=[],r=!1,i=(e,t,a)=>{if(Q(e))if(!t[a])n.push(e);else{let o=t[a],s=e[o];if(!Q(s))return;if(a===t.length-1&&(Nc(s)||Pc(s)||Fc(s)))n.push(Mc(s));else if(kc(s)){r=!0;for(let e=0,n=s.length;e<n;e+=1)i(s[e],t,a+1)}else t.length&&i(s,t,a+1)}};return i(e,Nc(t)?t.split(`.`):t,0),r?n:n[0]}var Zc={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Qc={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},$c={location:0,threshold:.6,distance:100},el={useExtendedSearch:!1,getFn:Xc,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},$={...Qc,...Zc,...$c,...el},tl=/[^ ]+/g;function nl(e=1,t=3){let n=new Map,r=10**t;return{get(t){let i=t.match(tl).length;if(n.has(i))return n.get(i);let a=1/i**(.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear(){n.clear()}}}var rl=class{constructor({getFn:e=$.getFn,fieldNormWeight:t=$.fieldNormWeight}={}){this.norm=nl(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Nc(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();Nc(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)--this.records[t].i}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Q(e)||Rc(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(Q(i)){if(kc(i)){let e=[],t=[{nestedArrIndex:-1,value:i}];for(;t.length;){let{nestedArrIndex:n,value:r}=t.pop();if(Q(r))if(Nc(r)&&!Rc(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else kc(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[r]=e}else if(Nc(i)&&!Rc(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function il(e,t,{getFn:n=$.getFn,fieldNormWeight:r=$.fieldNormWeight}={}){let i=new rl({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(qc)),i.setSources(t),i.create(),i}function al(e,{getFn:t=$.getFn,fieldNormWeight:n=$.fieldNormWeight}={}){let{keys:r,records:i}=e,a=new rl({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function ol(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=$.distance,ignoreLocation:a=$.ignoreLocation}={}){let o=t/e.length;if(a)return o;let s=Math.abs(r-n);return i?o+s/i:s?1:o}function sl(e=[],t=$.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let o=e.length;a<o;a+=1){let o=e[a];o&&r===-1?r=a:!o&&r!==-1&&(i=a-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var cl=32;function ll(e,t,n,{location:r=$.location,distance:i=$.distance,threshold:a=$.threshold,findAllMatches:o=$.findAllMatches,minMatchCharLength:s=$.minMatchCharLength,includeMatches:c=$.includeMatches,ignoreLocation:l=$.ignoreLocation}={}){if(t.length>cl)throw Error(Hc(cl));let u=t.length,d=e.length,f=Math.max(0,Math.min(r,d)),p=a,m=f,h=s>1||c,g=h?Array(d):[],_;for(;(_=e.indexOf(t,m))>-1;){let e=ol(t,{currentLocation:_,expectedLocation:f,distance:i,ignoreLocation:l});if(p=Math.min(e,p),m=_+u,h){let e=0;for(;e<u;)g[_+e]=1,e+=1}}m=-1;let v=[],y=1,b=u+d,x=1<<u-1;for(let r=0;r<u;r+=1){let a=0,s=b;for(;a<s;)ol(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:l})<=p?a=s:b=s,s=Math.floor((b-a)/2+a);b=s;let c=Math.max(1,f-s+1),_=o?d:Math.min(f+s,d)+u,S=Array(_+2);S[_+1]=(1<<r)-1;for(let a=_;a>=c;--a){let o=a-1,s=n[e.charAt(o)];if(h&&(g[o]=+!!s),S[a]=(S[a+1]<<1|1)&s,r&&(S[a]|=(v[a+1]|v[a])<<1|1|v[a+1]),S[a]&x&&(y=ol(t,{errors:r,currentLocation:o,expectedLocation:f,distance:i,ignoreLocation:l}),y<=p)){if(p=y,m=o,m<=f)break;c=Math.max(1,2*f-m)}}if(ol(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:l})>p)break;v=S}let S={isMatch:m>=0,score:Math.max(.001,y)};if(h){let e=sl(g,s);e.length?c&&(S.indices=e):S.isMatch=!1}return S}function ul(e){let t={};for(let n=0,r=e.length;n<r;n+=1){let i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var dl=String.prototype.normalize?(e=>e.normalize(`NFD`).replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,``)):(e=>e),fl=class{constructor(e,{location:t=$.location,threshold:n=$.threshold,distance:r=$.distance,includeMatches:i=$.includeMatches,findAllMatches:a=$.findAllMatches,minMatchCharLength:o=$.minMatchCharLength,isCaseSensitive:s=$.isCaseSensitive,ignoreDiacritics:c=$.ignoreDiacritics,ignoreLocation:l=$.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l},e=s?e:e.toLowerCase(),e=c?dl(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;let u=(e,t)=>{this.chunks.push({pattern:e,alphabet:ul(e),startIndex:t})},d=this.pattern.length;if(d>cl){let e=0,t=d%cl,n=d-t;for(;e<n;)u(this.pattern.substr(e,cl),e),e+=cl;if(t){let e=d-cl;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?dl(e):e,this.pattern===e){let t={isMatch:!0,score:0};return r&&(t.indices=[[0,e.length-1]]),t}let{location:i,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:c,ignoreLocation:l}=this.options,u=[],d=0,f=!1;this.chunks.forEach(({pattern:t,alphabet:n,startIndex:p})=>{let{isMatch:m,score:h,indices:g}=ll(e,t,n,{location:i+p,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:c,includeMatches:r,ignoreLocation:l});m&&(f=!0),d+=h,m&&g&&(u=[...u,...g])});let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&r&&(p.indices=u),p}},pl=class{constructor(e){this.pattern=e}static isMultiMatch(e){return ml(e,this.multiRegex)}static isSingleMatch(e){return ml(e,this.singleRegex)}search(){}};function ml(e,t){let n=e.match(t);return n?n[1]:null}var hl=class extends pl{constructor(e){super(e)}static get type(){return`exact`}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},gl=class extends pl{constructor(e){super(e)}static get type(){return`inverse-exact`}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=e.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},_l=class extends pl{constructor(e){super(e)}static get type(){return`prefix-exact`}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},vl=class extends pl{constructor(e){super(e)}static get type(){return`inverse-prefix-exact`}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},yl=class extends pl{constructor(e){super(e)}static get type(){return`suffix-exact`}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},bl=class extends pl{constructor(e){super(e)}static get type(){return`inverse-suffix-exact`}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},xl=class extends pl{constructor(e,{location:t=$.location,threshold:n=$.threshold,distance:r=$.distance,includeMatches:i=$.includeMatches,findAllMatches:a=$.findAllMatches,minMatchCharLength:o=$.minMatchCharLength,isCaseSensitive:s=$.isCaseSensitive,ignoreDiacritics:c=$.ignoreDiacritics,ignoreLocation:l=$.ignoreLocation}={}){super(e),this._bitapSearch=new fl(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l})}static get type(){return`fuzzy`}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Sl=class extends pl{constructor(e){super(e)}static get type(){return`include`}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n,r=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,r.push([n,t-1]);let a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}},Cl=[hl,Sl,_l,vl,bl,yl,gl,xl],wl=Cl.length,Tl=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,El=`|`;function Dl(e,t={}){return e.split(El).map(e=>{let n=e.trim().split(Tl).filter(e=>e&&!!e.trim()),r=[];for(let e=0,i=n.length;e<i;e+=1){let i=n[e],a=!1,o=-1;for(;!a&&++o<wl;){let e=Cl[o],n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),a=!0)}if(!a)for(o=-1;++o<wl;){let e=Cl[o],n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r})}var Ol=new Set([xl.type,Sl.type]),kl=class{constructor(e,{isCaseSensitive:t=$.isCaseSensitive,ignoreDiacritics:n=$.ignoreDiacritics,includeMatches:r=$.includeMatches,minMatchCharLength:i=$.minMatchCharLength,ignoreLocation:a=$.ignoreLocation,findAllMatches:o=$.findAllMatches,location:s=$.location,threshold:c=$.threshold,distance:l=$.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:a,location:s,threshold:c,distance:l},e=t?e:e.toLowerCase(),e=n?dl(e):e,this.pattern=e,this.query=Dl(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?dl(e):e;let a=0,o=[],s=0;for(let r=0,i=t.length;r<i;r+=1){let i=t[r];o.length=0,a=0;for(let t=0,r=i.length;t<r;t+=1){let r=i[t],{isMatch:c,indices:l,score:u}=r.search(e);if(c){if(a+=1,s+=u,n){let e=r.constructor.type;Ol.has(e)?o=[...o,...l]:o.push(l)}}else{s=0,a=0,o.length=0;break}}if(a){let e={isMatch:!0,score:s/a};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}},Al=[];function jl(...e){Al.push(...e)}function Ml(e,t){for(let n=0,r=Al.length;n<r;n+=1){let r=Al[n];if(r.condition(e,t))return new r(e,t)}return new fl(e,t)}var Nl={AND:`$and`,OR:`$or`},Pl={PATH:`$path`,PATTERN:`$val`},Fl=e=>!!(e[Nl.AND]||e[Nl.OR]),Il=e=>!!e[Pl.PATH],Ll=e=>!kc(e)&&Ic(e)&&!Fl(e),Rl=e=>({[Nl.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function zl(e,t,{auto:n=!0}={}){let r=e=>{let i=Object.keys(e),a=Il(e);if(!a&&i.length>1&&!Fl(e))return r(Rl(e));if(Ll(e)){let r=a?e[Pl.PATH]:i[0],o=a?e[Pl.PATTERN]:e[r];if(!Nc(o))throw Error(Vc(r));let s={keyId:Yc(r),pattern:o};return n&&(s.searcher=Ml(o,t)),s}let o={children:[],operator:i[0]};return i.forEach(t=>{let n=e[t];kc(n)&&n.forEach(e=>{o.children.push(r(e))})}),o};return Fl(e)||(e=Rl(e)),r(e)}function Bl(e,{ignoreFieldNorm:t=$.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{let a=e?e.weight:null;n*=(i===0&&a?2**-52:i)**+((a||1)*(t?1:r))}),e.score=n})}function Vl(e,t){let n=e.matches;t.matches=[],Q(n)&&n.forEach(e=>{if(!Q(e.indices)||!e.indices.length)return;let{indices:n,value:r}=e,i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function Hl(e,t){t.score=e.score}function Ul(e,t,{includeMatches:n=$.includeMatches,includeScore:r=$.includeScore}={}){let i=[];return n&&i.push(Vl),r&&i.push(Hl),e.map(e=>{let{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}var Wl=class{constructor(e,t={},n){this.options={...$,...t},this.options.useExtendedSearch,this._keyStore=new Kc(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof rl))throw Error(Bc);this._myIndex=t||il(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Q(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let n=0,r=this._docs.length;n<r;n+=1){let i=this._docs[n];e(i,n)&&(this.removeAt(n),--n,--r,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:n,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:o}=this.options,s=Nc(e)?Nc(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Bl(s,{ignoreFieldNorm:o}),i&&s.sort(a),Pc(t)&&t>-1&&(s=s.slice(0,t)),Ul(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){let t=Ml(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!Q(e))return;let{isMatch:a,score:o,indices:s}=t.searchIn(e);a&&r.push({item:e,idx:n,matches:[{score:o,value:e,norm:i,indices:s}]})}),r}_searchLogical(e){let t=zl(e,this.options),n=(e,t,r)=>{if(!e.children){let{keyId:n,searcher:i}=e,a=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return a&&a.length?[{idx:r,item:t,matches:a}]:[]}let i=[];for(let a=0,o=e.children.length;a<o;a+=1){let o=e.children[a],s=n(o,t,r);if(s.length)i.push(...s);else if(e.operator===Nl.AND)return[]}return i},r=this._myIndex.records,i={},a=[];return r.forEach(({$:e,i:r})=>{if(Q(e)){let o=n(t,e,r);o.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},a.push(i[r])),o.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),a}_searchObjectList(e){let t=Ml(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!Q(e))return;let a=[];n.forEach((n,r)=>{a.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),a.length&&i.push({idx:r,item:e,matches:a})}),i}_findMatches({key:e,value:t,searcher:n}){if(!Q(t))return[];let r=[];if(kc(t))t.forEach(({v:t,i,n:a})=>{if(!Q(t))return;let{isMatch:o,score:s,indices:c}=n.searchIn(t);o&&r.push({score:s,key:e,value:t,idx:i,norm:a,indices:c})});else{let{v:i,n:a}=t,{isMatch:o,score:s,indices:c}=n.searchIn(i);o&&r.push({score:s,key:e,value:i,norm:a,indices:c})}return r}};Wl.version=`7.1.0`,Wl.createIndex=il,Wl.parseIndex=al,Wl.config=$,Wl.parseQuery=zl,jl(kl);let Gl=new class{constructor(){this.fuse=null,this.searchableData=[]}async initializeIndex(){console.info(`[Search] Initializing search index...`);let[e,t]=await Promise.all([Te.getAllThreads(),Te.getAllMessages()]);this.searchableData=[];for(let n of t){let t=e.find(e=>e.id===n.threadId);if(t)for(let e of n.messages){let n=``;e.content&&typeof e.content==`string`&&(n=e.content),n.trim()&&this.searchableData.push({threadId:t.id,threadName:t.name,messageId:e.id,messageContent:n,messageRole:e.role,createdAt:e.createdAt})}}this.fuse=new Wl(this.searchableData,{keys:[{name:`messageContent`,weight:.7},{name:`threadName`,weight:.3}],threshold:.4,includeScore:!0,includeMatches:!0,minMatchCharLength:2,ignoreLocation:!0}),console.info(`[Search] Index initialized with ${this.searchableData.length} messages`)}search(e,t=20){return!this.fuse||!e.trim()?[]:this.fuse.search(e,{limit:t}).map(e=>{let t=e.item,n=t.messageContent;if(e.matches&&e.matches.length>0){let t=e.matches[0];if(t.indices&&t.indices.length>0){let[e,r]=t.indices[0],i=n.slice(e,r+1),a=Math.max(0,e-50),o=Math.min(n.length,r+50+1),s=a>0?`...`:``,c=o<n.length?`...`:``;n=s+n.slice(a,e)+`<mark>${i}</mark>`+n.slice(r+1,o)+c}}else n.length>200&&(n=n.slice(0,200)+`...`);return{threadId:t.threadId,threadName:t.threadName,messageId:t.messageId,messageContent:t.messageContent,messageRole:t.messageRole,createdAt:t.createdAt,highlightedContent:n}})}async reindex(){await this.initializeIndex()}};function Kl(e,t,n,r){e.addEventListener(t,n,r),Ta(()=>{e.removeEventListener(t,n,r)})}var ql=ii(`<svg><path fill="currentColor" d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5"></path></svg>`);function Jl(e,t){let n=Ca(t,[`$$slots`,`$$events`,`$$legacy`]);var r=ql();Ji(r,()=>({viewBox:`0 0 24 24`,width:`1.2em`,height:`1.2em`,...n})),oi(e,r)}function Yl(e,t,n,r){if(!W(t).trim()){M(n,[],!0),M(r,0);return}M(n,Gl.search(W(t),20),!0),M(r,0)}function Xl(e,t,n,r,i,a,o){if(e.key===`Escape`){if(e.preventDefault(),W(t)){M(t,``),M(n,[],!0),M(r,0);return}i();return}if(e.key===`ArrowDown`){e.preventDefault(),W(n).length>0&&(M(r,(W(r)+1)%W(n).length),a());return}if(e.key===`ArrowUp`){e.preventDefault(),W(n).length>0&&(M(r,(W(r)-1+W(n).length)%W(n).length),a());return}if(e.key===`Enter`){e.preventDefault(),W(n).length>0&&W(r)>=0&&o(W(n)[W(r)]);return}}function Zl(e,t){e.target===e.currentTarget&&t()}var Ql=ni(`<div class="search-empty svelte-1ocnzw1" role="status"><p> </p></div>`),$l=(e,t,n)=>t(W(n)),eu=(e,t,n)=>e.key===`Enter`&&t(W(n)),tu=ni(`<li class="search-result-item svelte-1ocnzw1" role="option" tabindex="-1"><div class="result-header svelte-1ocnzw1"><span class="result-thread-name svelte-1ocnzw1"> </span> <span class="result-date svelte-1ocnzw1"> </span></div> <div class="result-content svelte-1ocnzw1"><!></div></li>`),nu=ni(`<ul id="search-results" class="search-results svelte-1ocnzw1" role="listbox"></ul>`),ru=ni(`<div class="search-backdrop svelte-1ocnzw1" role="presentation"><div class="search-dialog svelte-1ocnzw1" role="dialog" aria-modal="true" aria-labelledby="search-label"><div class="search-container svelte-1ocnzw1"><div class="search-input-wrapper svelte-1ocnzw1"><!> <label for="search-input" id="search-label" class="sr-only svelte-1ocnzw1"> </label> <input id="search-input" type="text" class="search-input svelte-1ocnzw1" role="combobox" aria-autocomplete="list" aria-controls="search-results"/> <kbd class="search-shortcut svelte-1ocnzw1">ESC</kbd></div> <!> <!> <div class="search-footer svelte-1ocnzw1"><div class="search-tips svelte-1ocnzw1"><kbd class="svelte-1ocnzw1">↑</kbd> <kbd class="svelte-1ocnzw1">↓</kbd> <span> </span> <kbd class="svelte-1ocnzw1">↵</kbd> <span> </span> <kbd class="svelte-1ocnzw1">ESC</kbd> <span> </span></div> <div class="search-results-count svelte-1ocnzw1"> </div></div></div></div></div>`),iu={hash:`svelte-1ocnzw1`,code:`.search-backdrop.svelte-1ocnzw1 {
    /* Light theme colors */--backdrop-bg: rgba(0, 0, 0, 0.3);--dialog-bg: #ffffff;--dialog-border: #d4d4d4;--dialog-shadow: rgba(0, 0, 0, 0.2);--input-border: #e5e5e5;--icon-color: #616161;--text-primary: #1e1e1e;--text-secondary: #616161;--text-placeholder: #999999;--keybinding-bg: #f3f3f3;--keybinding-border: #cccccc;--keybinding-text: #424242;--hover-bg: #f9f9f9;--selected-bg: #e8e8e8;--highlight-bg: #ffff05;--highlight-text: #000000;--border-radius: 8px;}

  @media (prefers-color-scheme: dark) {.search-backdrop.svelte-1ocnzw1 {
      /* Dark theme colors */--backdrop-bg: rgba(0, 0, 0, 0.5);--dialog-bg: #252526;--dialog-border: #454545;--dialog-shadow: rgba(0, 0, 0, 0.4);--input-border: #454545;--icon-color: #cccccc;--text-primary: #cccccc;--text-secondary: #cccccc;--text-placeholder: #999999;--keybinding-bg: #3c3c3c;--keybinding-border: #555555;--keybinding-text: #cccccc;--hover-bg: #333739;--selected-bg: #2a2d2e;--highlight-bg: #ffff05;--highlight-text: #ffffff;}
  }.search-backdrop.svelte-1ocnzw1 {position:fixed;inset:0;background-color:var(--backdrop-bg);z-index:9999;display:flex;align-items:flex-start;justify-content:center;padding-top:10vh;}.search-dialog.svelte-1ocnzw1 {width:100%;max-width:640px;background-color:var(--dialog-bg);border:1px solid var(--dialog-border);border-radius:var(--border-radius);box-shadow:0 8px 32px var(--dialog-shadow);}.search-container.svelte-1ocnzw1 {display:flex;flex-direction:column;max-height:70vh;}.search-input-wrapper.svelte-1ocnzw1 {position:relative;display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid var(--input-border);color:var(--icon-color);}.search-input.svelte-1ocnzw1 {flex:1;margin:0 12px;padding:0;background:none;border:none;outline:none;color:var(--text-primary);font-size:16px;font-family:inherit;}.search-input.svelte-1ocnzw1::placeholder {color:var(--text-placeholder);}.search-input.svelte-1ocnzw1:disabled {opacity:0.5;cursor:not-allowed;}.search-shortcut.svelte-1ocnzw1 {padding:4px 8px;background-color:var(--keybinding-bg);border:1px solid var(--keybinding-border);border-radius:4px;color:var(--keybinding-text);font-size:11px;font-family:monospace;flex-shrink:0;}.search-empty.svelte-1ocnzw1 {padding:32px 16px;text-align:center;color:var(--text-secondary);opacity:0.6;}.search-results.svelte-1ocnzw1 {list-style:none;margin:0;padding:8px 0;overflow-y:auto;max-height:calc(70vh - 120px);}.search-result-item.svelte-1ocnzw1 {display:flex;flex-direction:column;gap:4px;padding:12px 16px;cursor:pointer;transition:background-color 0.2s ease;}.search-result-item.svelte-1ocnzw1:hover {background-color:var(--hover-bg);}.search-result-item[data-selected='true'].svelte-1ocnzw1 {background-color:var(--selected-bg);}.result-header.svelte-1ocnzw1 {display:flex;align-items:center;justify-content:space-between;}.result-thread-name.svelte-1ocnzw1 {max-width:90%;font-weight:600;color:var(--text-primary);font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.result-date.svelte-1ocnzw1 {font-size:11px;color:var(--text-secondary);opacity:0.5;}.result-content.svelte-1ocnzw1 {color:var(--text-primary);font-size:12px;opacity:0.6;word-break:break-all;height:1rem; /* 固定高度 */text-overflow:ellipsis;overflow:hidden;}.result-content.svelte-1ocnzw1 mark {opacity:1;background-color:var(--highlight-bg);color:var(--highlight-text);border-radius:2px;}.search-footer.svelte-1ocnzw1 {display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-top:1px solid var(--input-border);background-color:var(--dialog-bg);}.search-tips.svelte-1ocnzw1 {display:flex;align-items:center;gap:8px;font-size:11px;color:var(--text-secondary);opacity:0.6;}.search-tips.svelte-1ocnzw1 kbd:where(.svelte-1ocnzw1) {padding:2px 6px;background-color:var(--keybinding-bg);border:1px solid var(--keybinding-border);border-radius:3px;color:var(--keybinding-text);font-size:10px;font-family:monospace;}.search-results-count.svelte-1ocnzw1 {font-size:11px;color:var(--text-secondary);opacity:0.6;}.sr-only.svelte-1ocnzw1 {position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;}`};function au(e,t){Mt(t,!0),Ti(e,iu);let n=()=>ba(Oc,`$_`,r),[r,i]=xa(),a=j(!1),o=j(``),s=j(Dn([])),c=j(0),l=j(!1),u=j(void 0),d=j(void 0);wa(async()=>{M(l,!0);try{await Gl.initializeIndex()}catch(e){console.error(`[Search UI] Failed to initialize search index:`,e)}finally{M(l,!1)}}),Kl(window,`keydown`,e=>{(e.metaKey||e.ctrlKey)&&e.key===`k`&&(e.preventDefault(),f())});function f(){M(a,!W(a)),W(a)?setTimeout(()=>{W(u)?.focus()},0):(M(o,``),M(s,[],!0),M(c,0))}function p(){M(a,!1),M(o,``),M(s,[],!0),M(c,0)}function m(){setTimeout(()=>{let e=W(d)?.querySelector(`[data-selected="true"]`);e&&e.scrollIntoView({block:`nearest`})},0)}function h(e){window.location.href=`/copilot/c/${e.threadId}`,p()}function g(e){let t=new Date(e),n=new Date().getTime()-t.getTime(),r=Math.floor(n/(1e3*60*60*24));if(r===0)return va(Oc)(`date.today`);if(r===1)return va(Oc)(`date.yesterday`);if(r<7)return va(Oc)(`date.daysAgo`,{values:{count:r}});if(r<30){let e=Math.floor(r/7);return va(Oc)(`date.weeksAgo`,{values:{count:e}})}else return t.toLocaleDateString(va(Oc)(`date.locale`),{year:`numeric`,month:`2-digit`,day:`2-digit`})}var _=ai(),v=Ln(_),y=e=>{var t=ru();t.__click=[Zl,p];var r=P(t),i=P(r),a=P(i),f=P(a);Jl(f,{});var _=F(f,2),v=P(_,!0);O(_);var y=F(_,2);Gi(y),y.__input=[Yl,o,s,c],y.__keydown=[Xl,o,s,c,p,m,h],fa(y,e=>M(u,e),()=>W(u));var b=F(y,2);O(a);var x=F(a,2),S=e=>{var t=Ql(),r=P(t),i=P(r,!0);O(r),O(t),nr(e=>ci(i,e),[()=>n()(`search.noResults`)]),oi(e,t)};mi(x,e=>{W(o)&&W(s).length===0&&e(S)});var ee=F(x,2),te=e=>{var t=nu();vi(t,21,()=>W(s),gi,(e,t,n)=>{var r=tu();K(r,`id`,`result-${n}`),r.__click=[$l,h,t],r.__keydown=[eu,h,t];var i=P(r),a=P(i),o=P(a,!0);O(a);var s=F(a,2),l=P(s,!0);O(s),O(i);var u=F(i,2),d=P(u);wi(d,()=>W(t).highlightedContent||W(t).messageContent),O(u),O(r),nr((e,i)=>{K(r,`aria-selected`,n===W(c)),K(r,`data-selected`,n===W(c)),K(a,`title`,W(t).threadName),ci(o,W(t).threadName),K(s,`title`,e),ci(l,i)},[()=>new Date(W(t).createdAt).toLocaleString(),()=>g(W(t).createdAt)]),oi(e,r)}),O(t),fa(t,e=>M(d,e),()=>W(d)),nr(e=>K(t,`aria-label`,e),[()=>n()(`search.resultsLabel`)]),oi(e,t)};mi(ee,e=>{W(s).length>0&&e(te)});var ne=F(ee,2),re=P(ne),ie=P(re),ae=F(ie,2),oe=F(ae,2),se=P(oe,!0);O(oe);var ce=F(oe,2),le=F(ce,2),ue=P(le,!0);O(le);var de=F(le,2),fe=F(de,2),pe=P(fe,!0);O(fe),O(re);var me=F(re,2),he=P(me,!0);O(me),O(ne),O(i),O(r),O(t),nr((e,t,n,r,i,a,o,u,d,f,p)=>{ci(v,e),K(y,`placeholder`,t),y.disabled=W(l),K(y,`aria-expanded`,W(s).length>0),K(y,`aria-activedescendant`,W(s).length>0?`result-${W(c)}`:void 0),K(b,`aria-label`,n),K(ie,`aria-label`,r),K(ae,`aria-label`,i),ci(se,a),K(ce,`aria-label`,o),ci(ue,u),K(de,`aria-label`,d),ci(pe,f),ci(he,p)},[()=>n()(`search.label`),()=>W(l)?n()(`search.indexing`):n()(`search.placeholder`),()=>n()(`search.shortcut.escape`),()=>n()(`search.shortcut.arrowUp`),()=>n()(`search.shortcut.arrowDown`),()=>n()(`search.tips.navigate`),()=>n()(`search.shortcut.enter`),()=>n()(`search.tips.select`),()=>n()(`search.shortcut.escapeKey`),()=>n()(`search.tips.close`),()=>n()(`search.resultsCount`,{values:{count:W(s).length}})]),ca(y,()=>W(o),e=>M(o,e)),oa(3,r,()=>Aa,()=>({y:-20,duration:200})),oa(3,t,()=>ka,()=>({duration:150})),oi(e,t)};mi(v,e=>{W(a)&&e(y)}),oi(e,_),Nt(),i()}Zr([`click`,`input`,`keydown`]);var ou=c({date:()=>cu,default:()=>lu,search:()=>su}),su,cu,lu,uu=o((()=>{su={label:`Search chat history`,placeholder:`Search chat history...`,indexing:`Building index...`,noResults:`No matching results found`,resultsLabel:`Search results`,resultsCount:`{count} results`,tips:{navigate:`Navigate`,select:`Select`,close:`Close`},shortcut:{escape:`Keyboard shortcut`,arrowUp:`Arrow up`,arrowDown:`Arrow down`,enter:`Enter`,escapeKey:`Escape key`}},cu={locale:`en-US`,today:`Today`,yesterday:`Yesterday`,daysAgo:`{count} days ago`,weeksAgo:`{count} weeks ago`},lu={search:su,date:cu}})),du=c({date:()=>pu,default:()=>mu,search:()=>fu}),fu,pu,mu,hu=o((()=>{fu={label:`搜索聊天记录`,placeholder:`搜索聊天记录...`,indexing:`正在建立索引...`,noResults:`未找到匹配的结果`,resultsLabel:`搜索结果`,resultsCount:`{count} 条结果`,tips:{navigate:`导航`,select:`选择`,close:`关闭`},shortcut:{escape:`键盘快捷键`,arrowUp:`向上箭头`,arrowDown:`向下箭头`,enter:`回车键`,escapeKey:`Escape 键`}},pu={locale:`zh-CN`,today:`今天`,yesterday:`昨天`,daysAgo:`{count} 天前`,weeksAgo:`{count} 周前`},mu={search:fu,date:pu}}));Ps(`en`,()=>Promise.resolve().then(()=>(uu(),ou))),Ps(`zh`,()=>Promise.resolve().then(()=>(hu(),du))),Us({fallbackLocale:`en`,initialLocale:oc()});function gu(){let e=`copilot-chat-search`,t=document.getElementById(e);t||(t=document.createElement(`div`),t.id=e,document.documentElement.appendChild(t));let n=t.shadowRoot??t.attachShadow({mode:`open`});li(au,{target:n})}p({onBeforeFetch:async({request:e,fetch:t})=>{if(e.method!==`GET`)return;let[n,r]=e.url?.match(/\/github\/chat\/threads\/([^/]+)\/messages/)??[];if(!r)return;try{let n=await t(e);if(!n.ok)throw Error(`Failed to fetch thread messages: ${n.statusText} ${await n.text()}`);return n}catch(e){console.warn(`[Intercept] Error fetching thread messages:`,e)}let i=await Te.getMessages(r);return i?(console.info(`[Intercept] Returning local messages for thread ${r}`,i),new Response(JSON.stringify({thread:await Te.getThread(r),messages:i.messages}),{status:200,statusText:`OK`,headers:{"Content-Type":`application/json`}})):e}}),p({onBeforeFetch:async({request:e,response:t})=>{if(e.method!==`DELETE`)return;let[n,r]=e.url?.match(/\/github\/chat\/threads\/([^/]+)/)??[];if(r)try{await Te.deleteThread(r),console.info(`[Intercept] Deleted thread ${r} from local DB.`)}catch(e){console.error(`[Intercept] Failed to delete thread ${r}:`,e)}}}),p({onAfterFetch:async({request:e,response:t})=>{if(e.method===`GET`&&new URL(e.url).pathname===`/github/chat/threads`){try{let e=await t.clone().json(),n=await ze(e);return new Response(JSON.stringify(n),{status:t.status,statusText:t.statusText,headers:t.headers})}catch(e){console.error(`[Intercept] Failed to merge threads response:`,e)}return t}}});async function _u(){console.info(`[Github Copilot Enhanced] Initializing...`),document.readyState===`complete`?Re.startAutoSync(30):window.addEventListener(`load`,()=>{Re.startAutoSync(30)}),gu(),console.info(`[Github Copilot Enhanced] Initialized.`)}_u()})();