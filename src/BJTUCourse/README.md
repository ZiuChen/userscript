# BJTU æŠ¢è¯¾è„šæœ¬

**å…è´£å£°æ˜: æ­¤è„šæœ¬ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨, è¯·äºä¸‹è½½åçš„ 24 å°æ—¶å†…åˆ é™¤, ç¦æ­¢ç”¨äºå®é™…é€‰è¯¾, ç”±ä½¿ç”¨æ­¤è„šæœ¬é€ æˆçš„ä»»ä½•åæœä¸å¼€å‘è€…æ— å…³**

1. ä¸ºæµè§ˆå™¨å®‰è£…`Tampermonkey`æ‹“å±•
2. å®‰è£…`userscript.user.js`
3. åœ¨é€‰è¯¾ç•Œé¢/è„šæœ¬ä»£ç é¡µé¢å†™å…¥åŒ¹é…è§„åˆ™
4. ç‚¹å‡»`å¼€å§‹æŠ¢è¯¾`, ç­‰å¾…æŠ¢è¯¾æˆåŠŸé€šçŸ¥

**æŒ‰ä¸‹ F12 æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹æŠ¢è¯¾æ—¥å¿—**

## ğŸ”° ä½¿ç”¨è¯´æ˜

### ğŸ¨ åŒ¹é…æ¨¡å¼:

- ç®€å•åŒ¹é… (`config.simpleMatchPatterns`)
  - æ”¯æŒåŒ¹é…è¯¾ç¨‹å, æ”¯æŒæ³›é€‰
  - æ”¯æŒç›´æ¥åœ¨é€‰è¯¾ç•Œé¢è®¾ç½®, è¯¾ç¨‹åä¹‹é—´ç”¨è‹±æ–‡é€—å·`,`åˆ†éš”
- é«˜çº§åŒ¹é… (`config.advanceMatchPatterns`)
  - æ”¯æŒåŒ¹é…è¡¨æ ¼å†…çš„éƒ¨åˆ†å­—æ®µ
  - ä¸æ”¯æŒåœ¨é€‰è¯¾ç•Œé¢å†…è®¾ç½®, è¯·æ‰‹åŠ¨ç¼–è¾‘è„šæœ¬ä¸­çš„å˜é‡å€¼

### ğŸ“« ç»“æœæ¨é€

å½“æŠ¢è¯¾æˆåŠŸæ—¶, è„šæœ¬å°†é€šè¿‡ä»¥ä¸‹é€”å¾„é€šçŸ¥:

- ç³»ç»Ÿé€šçŸ¥å¼¹å‡ºæç¤º
- æµè§ˆå™¨æ§åˆ¶å°ç›¸åº”æ—¥å¿—è¾“å‡º
- æ”¯æŒå°†ç»“æœé€šè¿‡[PushPlus](http://www.pushplus.plus/)æ¨é€åˆ°å¾®ä¿¡
  - ä½¿ç”¨å‰éœ€ç”³è¯·`token`å¹¶å¡«å…¥`config.pushPlusToken`

## ğŸ¯ åŒ¹é…æ¨¡å¼ç¤ºä¾‹

### ğŸ“Œ ç®€å•åŒ¹é…ç¤ºä¾‹

è¦åŒ¹é…`äººç±»çš„ç”Ÿè‚²ä¸å¥åº· 02`ä¸`ç™Œç—‡çŸ¥å¤šå°‘`

```js
simpleMatchPatterns: ['äººç±»çš„ç”Ÿè‚²ä¸å¥åº· 02', 'ç™Œç—‡çŸ¥å¤šå°‘']
```

### ğŸ“Œ é«˜çº§åŒ¹é…ç¤ºä¾‹

> é«˜çº§åŒ¹é…ä¸æ”¯æŒåœ¨é€‰è¯¾ç•Œé¢å†…è®¾ç½®, è¯·æ‰‹åŠ¨ç¼–è¾‘è„šæœ¬ä¸­çš„å˜é‡å€¼

è¦åŒ¹é…`æ™“æ˜æ˜`è€å¸ˆçš„`ä¿®èº«å…»æ€§ä¸å¤§å­¦ç”Ÿæ´»`

```js
advanceMatchPatterns: [{ cname: 'ä¿®èº«å…»æ€§ä¸å¤§å­¦ç”Ÿæ´»', tname: 'æ™“æ˜æ˜' }]
```

è¦åŒ¹é…`æ˜ŸæœŸäºŒ ç¬¬2èŠ‚`çš„`ç¥å¥‡çš„åŸºå› `ã€`æ˜ŸæœŸæ—¥`çš„`ç”Ÿå‘½ç§‘å­¦çºµæ¨ª`

```js
advanceMatchPatterns: [
  { cname: 'ç¥å¥‡çš„åŸºå› ', tap: 'æ˜ŸæœŸäºŒ ç¬¬2èŠ‚' },
  { cname: 'ç”Ÿå‘½ç§‘å­¦çºµæ¨ª', tap: 'æ˜ŸæœŸä¸‰' }
]
```

è¦æŠ›å‡º`ä¸­å›½å†å²æ–‡åŒ–æ¦‚è®º 01`å¹¶åŒ¹é…`ä¸­å›½å†å²æ–‡åŒ–æ¦‚è®º 02`

```js
advanceMatchPatterns: [{ cname: 'ä¸­å›½å†å²æ–‡åŒ–æ¦‚è®º 02', throw: 'ä¸­å›½å†å²æ–‡åŒ–æ¦‚è®º 01' }]
```

æ”¯æŒå‚æ•°:

- `cname` (è¯¾ç¨‹å)
- `credit` (å­¦åˆ†)
- `type` (è€ƒè¯•ç±»å‹)
- `tname` (ä¸Šè¯¾æ•™å¸ˆ)
- `tap` (æ—¶é—´åœ°ç‚¹)
- `more` (é€‰è¯¾é™åˆ¶è¯´æ˜)
- `throw` (è¦æŠ›å‡ºçš„è¯¾ç¨‹å)

## ğŸš€ è¿›é˜¶ç”¨æ³•

å¦‚æœä¸Šè¿°å†…å®¹æ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚, å¯ä»¥é˜…è¯»æ­¤èŠ‚, äº†è§£è„šæœ¬çš„è¿›é˜¶ç”¨æ³•.

### ğŸ” åˆ©ç”¨`advanceQuery`æé«˜æ£€ç´¢é€Ÿåº¦

å¯ä»¥ä¸º`config.advanceQuery`ä¼ å…¥æŸ¥è¯¢å­—ç¬¦ä¸², å°†éœ€è¦æ£€ç´¢çš„è¯¾ç¨‹é‡é™ä½, ä»è€Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜æ£€ç´¢é€Ÿåº¦.

åŒæ—¶, å¯ä»¥åˆ©ç”¨æ­¤å±æ€§å‡å°‘éœ€è¦è®¾å®šçš„åŒ¹é…å‚æ•°: ä¾‹å¦‚, åªå¸Œæœ›è„šæœ¬æ£€ç´¢æ‰€æœ‰çš„äººæ–‡ä¸è‰ºæœ¯ç±»è¯¾ç¨‹, å¯ä»¥ä¸ºæ­¤å±æ€§ä¼ å…¥`&gname2019=2`è¿™æ ·è„šæœ¬å–åˆ°çš„æºæ•°æ®å°†åªæœ‰è¿™ç±»è¯¾ç¨‹, åœ¨æ­¤åŸºç¡€ä¸Šè®¾ç½®çš„åŒ¹é…è§„åˆ™å¯ä»¥æ›´åŠ ç®€å•.

### ğŸ§² åˆ©ç”¨`throw`å±æ€§å®ç°æŠ›-æŠ¢è”åŠ¨

> åŒ¹é…åˆ°ç›®æ ‡è¯¾ç¨‹å› å·²é€‰åŒç±»è¯¾è€Œæ— æ³•é€‰æ‹©æ—¶, æŠ›å‡ºå·²æœ‰çš„è¯¾ç¨‹, é€‰æ‹©ç›®æ ‡è¯¾ç¨‹

åœ¨é«˜çº§åŒ¹é…æ¨¡å¼ä¸‹, å½“åŒ¹é…åˆ°è¯¾ç¨‹æ—¶, è„šæœ¬é€šè¿‡`throw`çš„å€¼æ£€æŸ¥å·²é€‰ä¸­çš„è¯¾å ‚è¯¾è¡¨, å¦‚æœ‰åˆ™å…ˆæŠ›å‡º`throw`å€¼ä»£è¡¨çš„è¯¾ç¨‹, éšååœ¨ä¸‹ä¸€è½®æ£€ç´¢æ—¶å‘å‡ºç½‘ç»œè¯·æ±‚, æŠ¢ç”±å…¶ä»–å±æ€§åŒ¹é…åˆ°çš„è¯¾ç¨‹.

**æ³¨æ„, åœ¨åº”ç”¨`throw`å±æ€§æ—¶, è¯·åŠ¡å¿…ç¡®ä¿å…¶ä»–å±æ€§çš„å€¼èƒ½è®©è„šæœ¬å”¯ä¸€åŒ¹é…ä½ å¸Œæœ›æŠ¢çš„é‚£ä¸€é—¨è¯¾, è€Œä¸æ˜¯èƒ½åŒ¹é…åˆ°å…¶ä»–åŒç±»è¯¾ç¨‹**

**æ³¨æ„, ç”±äºé€‰è¯¾æ˜¯åœ¨ä¸‹ä¸€è½®æ£€ç´¢è¿›è¡Œçš„, æ‰€ä»¥è¯·é¿å…è®¾ç½®è¾ƒä½çš„é¢‘ç‡ä»¥å…è¯¾ç¨‹è¢«æŠ¢**

> `cname`çš„å®Œæ•´çš„æ ¼å¼ä¸º[è¯¾ç¨‹å·:è¯¾ç¨‹å è¯¾åºå·]

## ğŸ’¡ è„šæœ¬åŸç†

ç”¨`fetch()`è¯·æ±‚çº¯å‡€çš„`<table>`å…ƒç´ , ä½¿ç”¨ tabletojson åº“å°†å…¶è½¬ä¸º json, ç”¨`setInterval()`æ— åˆ·æ–°å®šæ—¶é‡æ–°è·å–æœ€æ–°æ•°æ®, ç”¨`isMatched()`åŒ¹é…ç»™å®šè¡¨è¾¾å¼, ä¸€æ—¦åŒ¹é…æˆåŠŸè§¦å‘`trialSubmit()`, æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©é‡æ–°è¯·æ±‚æ•°æ®è¿˜æ˜¯æäº¤é€‰è¯¾è¯·æ±‚.

ç®€å•åŒ¹é…ä¸é«˜çº§åŒ¹é…`pattern`ä¸Šçš„åŒºåˆ«åœ¨è°ƒç”¨`addMatchTask()`æ—¶è¢«æŠ¹å¹³, ç”±`toAdvancePattern()`å°†ç®€å•åŒ¹é…çš„æ ¼å¼è½¬ä¸ºäº†åŒ…å«`cname`å±æ€§çš„é«˜çº§åŒ¹é…æ ¼å¼.

é’ˆå¯¹`throw`å±æ€§, å®ƒä»…ä»…ç”¨äºæ ‡è¯†è¦æŠ›å‡ºè¯¾ç¨‹çš„`cname`, åœ¨è¯¾ç¨‹æŠ›å‡ºåé€šè¿‡è°ƒç”¨`modifyTask()`å°†å…¶è½¬ä¸ºäº†ä¸åŒ…å«`throw`çš„é«˜çº§åŒ¹é…ä»»åŠ¡.

## ğŸ˜³ æ³¨æ„äº‹é¡¹

è¯»å–å‚æ•°ä¼˜å…ˆçº§: `config.simpleMatchPatterns` > `ç•Œé¢è¾“å…¥(æœ¬åœ°å­˜å‚¨)`

ä½¿ç”¨å‚æ•°ä¼˜å…ˆçº§: `config.advanceMatchPatterns` > `config.simpleMatchPatterns`
